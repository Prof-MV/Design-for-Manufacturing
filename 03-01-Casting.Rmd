## Design for Casting {#chap-casting}

```{r setup-01, include=FALSE}
## include the helpers.R file for pdf output of youtube on pdfs as a clickable link
source("R/helpers.R")
## include the required packages to make sure the page can be built.
source("R/required_packages.R")
```

### Learning Objectives {#sec:objectives-01}

By the end of this chapter, you will be able to:

1. **Explain** the fundamental principles and steps of the casting process
2. **Identify** the essential components required for casting operations
3. **Compare** different casting methods and their appropriate applications
4. **Apply** design considerations for castings including draft angles, parting lines, and wall thickness
5. **Recognize** common casting defects and their causes

::: {.callout-think}
**Before You Read:** Have you ever noticed the small raised lines or marks on metal objects like engine blocks or cast iron cookware? What do you think causes these marks during manufacturing?
:::

### Introduction to the Casting Process {#sec:casting-intro}

Casting is one of the oldest and most fundamental processes in manufacturing, dating back thousands of years. It involves pouring a liquid material, typically a molten metal, into a mold cavity where it is allowed to solidify in the desired shape. The resulting solidified object is called a **casting**. 

The significance of casting lies in its ability to produce complex, intricate shapes—including those with internal cavities or non-symmetrical geometries—that would be difficult or impossible to create using methods like machining or forging. This makes casting essential for industries ranging from aerospace and automotive to jewelry and construction.

---

### Essential Components of Casting {#sec:casting-components}

Every casting operation requires two basic elements:

1.  **The Casting Material:** This is the material, usually metal (such as iron, steel, aluminum, or bronze), that is melted into a liquid state.
2.  **The Mold:** This is the container that holds the liquid material and determines the final shape of the part. The mold contains a cavity that is the inverse of the part being made.

### The Basic Steps of Casting {#sec:casting-steps}

While the specifics vary greatly depending on the material and method (e.g., sand casting vs. die casting), the fundamental steps remain consistent:

1.  **Melting:** The casting material is heated to a liquid state in a furnace.
2.  **Pouring:** The molten material is introduced into the mold cavity.
3.  **Solidification:** The material is allowed to cool and solidify within the mold, taking the shape of the cavity.
4.  **Removal (Fettling):** The solidified casting is removed from the mold.
5.  **Cleaning and Finishing:** The casting is cleaned of any excess material (like gates or risers) and prepared for its intended use.

### Applications and Scope {#sec:casting-applications}

The versatility of casting allows it to produce parts ranging in size from a few grams (e.g., dental crowns) to hundreds of tons (e.g., steam turbine housings). The choice of a specific casting method—such as sand casting, investment casting, die casting, or continuous casting—depends on the required surface finish, dimensional accuracy, batch size, and the type of material being processed.


### Sand Mould Casting: The Versatile Workhorse

#### Introduction {#sec:sand-casting-intro}

Sand casting, also known as sand mould casting, is the oldest and most frequently used metal casting process, responsible for producing over 70% of all metal castings. It is highly valued for its **versatility** and **cost-effectiveness**, making it the foundational method for manufacturing a vast array of metal components, from massive engine blocks and turbine parts to small fittings and decorative items.

The basic principle is simple: create a mould using sand, pour molten metal into the cavity, let it solidify, and then break the mould to retrieve the part.

---

#### Components and Steps of the Process {#sec:sand-casting-steps}

The sand casting process is typically performed in two halves and involves five main steps.

```{r, echo=FALSE, out.width="50%", fig.align="center", fig.cap="Sand Casting Process"}
knitr::include_graphics("images/Sand-Casting-Infographic-2048x1366.png")
```

##### Mold Preparation 

The mold is created inside a metal frame called a **flask** (or molding box). The flask has two halves: the **cope** (top half) and the **drag** (bottom half).

* **Pattern:** A pattern, which is a reusable, full-sized model of the part to be cast (often made of wood, plastic, or metal), is placed inside the flask.
* **Gating System:** Additional shapes are included with the pattern to form the channels through which the molten metal will flow:
    * **Sprue:** The vertical channel where the molten metal is poured.
    * **Runners:** Horizontal channels leading from the sprue to the mold cavity.
    * **Risers:** Reservoirs that feed extra molten metal back into the mold cavity as the metal shrinks during solidification.
* **Compacting:** Molding sand—typically a mix of sand, clay (bentonite), and water or other bonding agents—is packed tightly around the pattern inside the flask.
* **Pattern Removal:** The flask is separated, and the pattern is carefully removed, leaving the inverse cavity of the part.

##### Core Placement (Optional)

If the casting requires **internal features** (like a hollow pipe or engine cylinder), a pre-formed core (usually made of a different, rigid sand mix) is placed into the mold cavity. This core remains suspended inside the cavity and prevents the molten metal from filling that space.

##### Mold Closure and Pouring

* The cope and drag are sealed and clamped together.
* Molten metal is poured from a ladle down the **sprue** and through the gating system until the mold cavity and risers are completely filled.

##### Solidification, Cooling, and Shakeout

The metal cools and solidifies within the sand mold. Since sand molds are non-reusable (they are broken to remove the part), this step is often called **shakeout**.

##### Finishing

The final casting is removed, and the metal from the sprue, runners, and risers (the non-part material) is cut away (a process called **fettling**) and typically recycled.

---

#### Advantages and Disadvantages {#sec:sand-casting-pros-cons}

| Feature | Advantage | Disadvantage |
| :--- | :--- | :--- |
| **Cost** | **Low tool and equipment cost**, making it economical for small batches or prototypes. | **Labor-intensive** and requires significant energy for sand processing and handling. |
| **Material/Size** | **Highly versatile:** can handle almost all metals and produce castings ranging from very small to very large (up to 200 tons). | **Poor surface finish** and **low dimensional accuracy** compared to die casting or investment casting. |
| **Mold** | Molds are rapidly made and disposable, facilitating complex shapes. | Low production rate due to the non-reusable nature of the mold. |

```{r, echo=FALSE, out.width="50%", fig.align="center", fig.cap="Typical Casting Company."}
knitr::include_graphics("images/SandCastingCompany.png")
```
<details>
  <summary>This diagram illustrates the integrated flow of a metal casting facility, tracing the journey from raw scrap and sand to a finished product. </summary>
  
  The process is characterized by two main streams: **Metal Melting** and **Sand/Core Preparation**, which converge at the pouring stage.

  
##### Primary Metal Melting Methods {-}
  
  The image identifies three distinct industrial furnaces. Each uses a different physical principle to reach the melting point of the metal (often exceeding 1,370°C or 2,500°F for iron).
  
###### Electric Arc Furnace (EAF) {-}
  * **Mechanism:** This furnace uses high-voltage electric arcs to melt the charge. Large graphite electrodes are lowered toward the metal scrap; electricity "arcs" from the electrodes to the metal, generating intense thermal energy.
  * **Emissions:** As indicated by the "Gas and Particulate Emissions" label, this process is volatile. The arc can cause rapid vaporization of surface contaminants on the scrap metal.
  
###### Induction Furnace {-}
  * **Mechanism:** This method utilizes a high-voltage electrical source passed through a copper coil. This creates a rapidly reversing magnetic field that induces "eddy currents" inside the metal. The metal’s own electrical resistance generates the heat internally.
  * **Characteristics:** It is generally cleaner than the EAF and provides a natural "stirring" action due to electromagnetic forces, which ensures a consistent alloy mix.
  
###### Cupola Furnace {-}
  * **Mechanism:** A Cupola is a vertical, cylindrical furnace. It is a "combustion" furnace where layers of **Coke** (fuel), **Flux**, and **Metallics** are layered. A blower forces air into the bottom to facilitate the burning of the coke, which melts the metal as it drops through the stack.
  * **Characteristics:** This is a continuous melting process. The diagram shows a tall stack to manage the significant volume of flue gases produced by the burning fuel.
  
  
##### Mold and Core Preparation {-}
  
  For a casting to have a specific shape, the molten metal must be poured into a "negative" space.
  
  * **Sand Preparation:** Raw sand is mixed with a **Binder** (like clay or chemical resin) to ensure it holds its shape.
  * **Molding:** The sand is packed around a pattern to create the external shape of the part.
  * **Core Making & Baking:** **Cores** are used to create hollow internal cavities (like the inside of an engine block). These are often "baked" in an oven to harden the binder so the core doesn't collapse when hit by molten metal.
  
  
##### Post-Melting and Finishing {-}
  
  Once the metal is liquid and the molds are ready, the final steps of production occur:
  
  1.  **Ductile Iron Inoculation:** The metal is treated with alloys (like Magnesium) to improve its strength and ductility.
  2.  **Pouring:** The "Hot Metal" is poured into the molds.
  3.  **Casting Shakeout:** Once solidified, the sand mold is vibrated until it breaks apart, releasing the metal casting. 
      * *Note: The "Return Sand" is sent back to the start of the process to be recycled.*
  4.  **Cooling and Cleaning:** The casting is cooled and cleaned of any remaining sand or "flash" (excess metal).
  5.  **Finishing:** Final grinding or machining is performed before **Shipping**.
  
  ---
  
**Environmental Note:** The diagram emphasizes that every stage of the foundry—from melting to shakeout—generates dust and gases, highlighting the need for robust industrial ventilation systems.
</details>


```{r video-foundry-process, echo=FALSE, results='asis'}
embed_youtube("2CIcvB72dmk", "Foundry Casting Process")
```

```{r video-sand-casting, echo=FALSE, results='asis'}
embed_youtube("pwaXCko_Tkw", "Sand Casting Process")
```

Further reading:

[Reliance Foundry](https://www.reliance-foundry.com/blog/sand-casting)

[3DPCasting](https://www.3dpcasting.com/blogs/sand-casting-8-key-steps-in-detail/)

[General Kinematics](https://www.generalkinematics.com/blog/sand-casting/)

[Design Rules](https://diecasting.zinc.org/properties/en/design/eng_prop_d_design-rules/)


### Full Mould Casting (Lost Foam Casting) {#sec:full-mould-casting}

Full mould casting, also known as **lost foam casting** or **evaporative pattern casting**, is an innovative process that uses expendable foam patterns instead of traditional reusable patterns. The foam pattern is coated with a refractory material, placed in unbonded sand, and vaporizes when the molten metal is poured—leaving behind a precise casting.

#### The Process

```{r fig-lost-foam-process, echo=FALSE, fig.cap="Lost foam casting process: the foam pattern vaporizes as molten metal replaces it.", fig.align='center', fig.width=10, fig.height=6}
library(ggplot2)

# Create a multi-stage diagram
ggplot() +
  # Stage 1: Foam Pattern
  annotate("text", x = 1.5, y = 5.5, label = "1. FOAM PATTERN", fontface = "bold", size = 3.5) +
  geom_rect(aes(xmin = 0.5, xmax = 2.5, ymin = 2.5, ymax = 5), fill = "lightyellow", color = "black", linewidth = 1) +
  geom_polygon(aes(x = c(1, 1, 1.3, 1.3, 1.7, 1.7, 2, 2, 1.5),
                   y = c(3, 4.5, 4.5, 4, 4, 4.5, 4.5, 3, 2.8)),
               fill = "pink", color = "black") +
  annotate("text", x = 1.5, y = 3.7, label = "EPS\nFoam", size = 2.5) +
  annotate("text", x = 1.5, y = 2, label = "Polystyrene\npattern created", size = 2.5, fontface = "italic") +

  # Stage 2: Coated Pattern
  annotate("text", x = 4.5, y = 5.5, label = "2. REFRACTORY COATING", fontface = "bold", size = 3.5) +
  geom_rect(aes(xmin = 3.5, xmax = 5.5, ymin = 2.5, ymax = 5), fill = "lightyellow", color = "black", linewidth = 1) +
  geom_polygon(aes(x = c(4, 4, 4.3, 4.3, 4.7, 4.7, 5, 5, 4.5),
                   y = c(3, 4.5, 4.5, 4, 4, 4.5, 4.5, 3, 2.8)),
               fill = "pink", color = "gray40", linewidth = 2) +
  annotate("text", x = 4.5, y = 2, label = "Ceramic coating\napplied & dried", size = 2.5, fontface = "italic") +

  # Stage 3: In Sand
  annotate("text", x = 7.5, y = 5.5, label = "3. EMBEDDED IN SAND", fontface = "bold", size = 3.5) +
  geom_rect(aes(xmin = 6.5, xmax = 8.5, ymin = 2.5, ymax = 5), fill = "tan", color = "black", linewidth = 1) +
  geom_polygon(aes(x = c(7, 7, 7.3, 7.3, 7.7, 7.7, 8, 8, 7.5),
                   y = c(3, 4.5, 4.5, 4, 4, 4.5, 4.5, 3, 2.8)),
               fill = "pink", color = "gray40", linewidth = 1) +
  geom_rect(aes(xmin = 7.4, xmax = 7.6, ymin = 4.5, ymax = 5.2), fill = "tan", color = "black") +
  annotate("text", x = 7.5, y = 2, label = "Unbonded sand\ncompacted around", size = 2.5, fontface = "italic") +

  # Stage 4: Metal Poured
  annotate("text", x = 10.5, y = 5.5, label = "4. METAL REPLACES FOAM", fontface = "bold", size = 3.5) +
  geom_rect(aes(xmin = 9.5, xmax = 11.5, ymin = 2.5, ymax = 5), fill = "tan", color = "black", linewidth = 1) +
  geom_polygon(aes(x = c(10, 10, 10.3, 10.3, 10.7, 10.7, 11, 11, 10.5),
                   y = c(3, 4.5, 4.5, 4, 4, 4.5, 4.5, 3, 2.8)),
               fill = "darkorange", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 10.4, xmax = 10.6, ymin = 4.5, ymax = 5.2), fill = "darkorange", color = "black") +
  annotate("text", x = 10.5, y = 2, label = "Foam vaporizes;\nmetal fills void", size = 2.5, fontface = "italic") +

  # Arrows between stages
  geom_segment(aes(x = 2.7, xend = 3.3, y = 3.75, yend = 3.75),
               arrow = arrow(length = unit(0.2, "cm")), linewidth = 1) +
  geom_segment(aes(x = 5.7, xend = 6.3, y = 3.75, yend = 3.75),
               arrow = arrow(length = unit(0.2, "cm")), linewidth = 1) +
  geom_segment(aes(x = 8.7, xend = 9.3, y = 3.75, yend = 3.75),
               arrow = arrow(length = unit(0.2, "cm")), linewidth = 1) +

  coord_fixed(ratio = 1, xlim = c(0, 12), ylim = c(1.5, 6)) +
  theme_void() +
  labs(title = "Lost Foam Casting Process") +
  theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 14))
```

**Key Steps:**

1. **Pattern Creation:** A polystyrene foam pattern (typically expanded polystyrene, EPS) is created, often by molding or CNC machining. Complex patterns can be glued together from multiple pieces.

2. **Coating:** The foam pattern is coated with a permeable refractory material that provides a barrier between the sand and molten metal, controls gas escape, and creates the surface finish.

3. **Embedding:** The coated pattern is placed in a flask and surrounded by unbonded (loose) sand, which is compacted by vibration.

4. **Pouring:** Molten metal is poured directly onto the foam pattern. The heat vaporizes the foam, and the metal fills the resulting void, replicating the pattern exactly.

5. **Shakeout:** After solidification, the sand is simply poured away—no mold breaking is required.

#### Advantages and Disadvantages

| Feature | Advantage | Disadvantage |
|:--------|:----------|:-------------|
| **Complexity** | Can produce very complex shapes including internal passages without cores | Pattern must be remade for each casting |
| **Accuracy** | No parting lines, no draft angles required, excellent dimensional accuracy | Foam pattern production adds cost and time |
| **Tooling** | Eliminates expensive core boxes and pattern maintenance | EPS patterns are fragile and require careful handling |
| **Environment** | Sand is recyclable; no chemical binders required | Foam vaporization produces gases that must be managed |
| **Finish** | Good surface finish; reduced machining requirements | Limited to metals with pouring temperatures that vaporize foam effectively |

::: {.callout-industry}
**Industry Application:** General Motors pioneered the use of lost foam casting for automotive engine blocks and cylinder heads. The process allows complex water jacket passages to be cast without cores, reducing weight and improving cooling efficiency.
:::

---

### Investment Casting (Lost Wax Casting) {#sec:investment-casting}

**Investment casting**, also known as **lost wax casting**, is a precision casting process capable of producing intricate, near-net-shape parts with excellent surface finish and dimensional accuracy. The process derives its name from the ceramic mold material that is "invested" (surrounded) around a wax pattern.

#### The Process

```{r fig-investment-casting-process, echo=FALSE, fig.cap="Investment casting process from wax pattern to finished casting.", fig.align='center', fig.width=12, fig.height=5}
library(ggplot2)

ggplot() +
  # Stage 1: Wax Pattern
  annotate("text", x = 1, y = 4.8, label = "1. WAX\nPATTERN", fontface = "bold", size = 3) +
  geom_polygon(aes(x = c(0.5, 0.5, 0.7, 0.7, 1.3, 1.3, 1.5, 1.5),
                   y = c(2, 4, 4, 3.5, 3.5, 4, 4, 2)),
               fill = "green3", color = "black") +
  annotate("text", x = 1, y = 1.5, label = "Wax injected\ninto die", size = 2.2, fontface = "italic") +

  # Stage 2: Pattern Tree
  annotate("text", x = 3, y = 4.8, label = "2. PATTERN\nTREE", fontface = "bold", size = 3) +
  geom_rect(aes(xmin = 2.9, xmax = 3.1, ymin = 2, ymax = 4.3), fill = "green3", color = "black") +
  geom_polygon(aes(x = c(2.5, 2.5, 2.7, 2.9), y = c(2.5, 3.2, 3.2, 3)),
               fill = "green3", color = "black") +
  geom_polygon(aes(x = c(3.5, 3.5, 3.3, 3.1), y = c(2.5, 3.2, 3.2, 3)),
               fill = "green3", color = "black") +
  geom_polygon(aes(x = c(2.5, 2.5, 2.7, 2.9), y = c(3.5, 4.2, 4.2, 4)),
               fill = "green3", color = "black") +
  geom_polygon(aes(x = c(3.5, 3.5, 3.3, 3.1), y = c(3.5, 4.2, 4.2, 4)),
               fill = "green3", color = "black") +
  annotate("text", x = 3, y = 1.5, label = "Multiple patterns\non central sprue", size = 2.2, fontface = "italic") +

  # Stage 3: Ceramic Shell
  annotate("text", x = 5, y = 4.8, label = "3. CERAMIC\nSHELL", fontface = "bold", size = 3) +
  geom_rect(aes(xmin = 4.7, xmax = 5.3, ymin = 1.8, ymax = 4.5), fill = "tan", color = "black", linewidth = 1.5) +
  geom_rect(aes(xmin = 4.85, xmax = 5.15, ymin = 2, ymax = 4.3), fill = "green3", color = "darkgreen") +
  annotate("text", x = 5, y = 1.5, label = "Dipped in slurry\n& stuccoed", size = 2.2, fontface = "italic") +

  # Stage 4: Dewax
  annotate("text", x = 7, y = 4.8, label = "4. DEWAX", fontface = "bold", size = 3) +
  geom_rect(aes(xmin = 6.7, xmax = 7.3, ymin = 1.8, ymax = 4.5), fill = "tan", color = "black", linewidth = 1.5) +
  geom_rect(aes(xmin = 6.85, xmax = 7.15, ymin = 2, ymax = 4.3), fill = "white", color = "gray") +
  geom_segment(aes(x = 7, xend = 7, y = 1.8, yend = 1.3),
               arrow = arrow(length = unit(0.15, "cm")), color = "green3", linewidth = 1) +
  annotate("text", x = 7, y = 1, label = "Wax\nmelted out", size = 2, color = "green4") +
  annotate("text", x = 7, y = 1.5, label = "Steam autoclave\nor flash fire", size = 2.2, fontface = "italic") +

  # Stage 5: Pour
  annotate("text", x = 9, y = 4.8, label = "5. POUR\nMETAL", fontface = "bold", size = 3) +
  geom_rect(aes(xmin = 8.7, xmax = 9.3, ymin = 1.8, ymax = 4.5), fill = "tan", color = "black", linewidth = 1.5) +
  geom_rect(aes(xmin = 8.85, xmax = 9.15, ymin = 2, ymax = 4.3), fill = "darkorange", color = "orange") +
  geom_polygon(aes(x = c(8.7, 9, 9.3), y = c(5.2, 4.7, 5.2)), fill = "darkorange", color = "black") +
  annotate("text", x = 9, y = 1.5, label = "Preheated mold\nfilled with metal", size = 2.2, fontface = "italic") +

  # Stage 6: Finished
  annotate("text", x = 11, y = 4.8, label = "6. FINISHED\nCASTINGS", fontface = "bold", size = 3) +
  geom_polygon(aes(x = c(10.5, 10.5, 10.7, 10.7, 11.3, 11.3, 11.5, 11.5),
                   y = c(2, 4, 4, 3.5, 3.5, 4, 4, 2)),
               fill = "gray50", color = "black") +
  geom_polygon(aes(x = c(10.5, 10.5, 10.7, 10.7, 11.3, 11.3, 11.5, 11.5) + 0.3,
                   y = c(2, 4, 4, 3.5, 3.5, 4, 4, 2) - 0.5),
               fill = "gray60", color = "black") +
  annotate("text", x = 11, y = 1.5, label = "Shell broken;\nparts cut off", size = 2.2, fontface = "italic") +

  # Arrows
  geom_segment(aes(x = 1.7, xend = 2.3, y = 3, yend = 3),
               arrow = arrow(length = unit(0.15, "cm")), linewidth = 0.8) +
  geom_segment(aes(x = 3.7, xend = 4.5, y = 3, yend = 3),
               arrow = arrow(length = unit(0.15, "cm")), linewidth = 0.8) +
  geom_segment(aes(x = 5.5, xend = 6.5, y = 3, yend = 3),
               arrow = arrow(length = unit(0.15, "cm")), linewidth = 0.8) +
  geom_segment(aes(x = 7.5, xend = 8.5, y = 3, yend = 3),
               arrow = arrow(length = unit(0.15, "cm")), linewidth = 0.8) +
  geom_segment(aes(x = 9.5, xend = 10.3, y = 3, yend = 3),
               arrow = arrow(length = unit(0.15, "cm")), linewidth = 0.8) +

  coord_fixed(ratio = 1, xlim = c(0, 12), ylim = c(0.5, 5.5)) +
  theme_void() +
  labs(title = "Investment Casting (Lost Wax) Process") +
  theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 14))
```

**Key Steps:**

1. **Wax Pattern Injection:** A wax (or wax-like polymer) pattern is created by injecting material into a metal die. Each pattern is an exact replica of the desired part.

2. **Pattern Assembly:** Multiple wax patterns are attached to a central wax sprue (runner system), creating a "tree" that allows multiple parts to be cast simultaneously.

3. **Shell Building:** The pattern tree is repeatedly dipped into ceramic slurry and coated with fine sand (stucco). Multiple layers build up a ceramic shell typically 5-10 mm thick.

4. **Dewaxing:** The ceramic shell is heated (via steam autoclave or flash fire) to melt and drain the wax, leaving a hollow ceramic mold. This is why it's called "lost wax."

5. **Firing:** The empty shell is fired at high temperature to cure the ceramic and burn out any remaining wax residue.

6. **Pouring:** Molten metal is poured into the preheated ceramic shell, often under vacuum or centrifugal force for difficult alloys.

7. **Shell Removal:** After solidification, the ceramic shell is broken away, and individual castings are cut from the tree.

#### Advantages and Disadvantages

| Feature | Advantage | Disadvantage |
|:--------|:----------|:-------------|
| **Precision** | Excellent dimensional accuracy (±0.1% typical); minimal machining required | Higher cost per part than sand casting |
| **Surface Finish** | Superior finish (1.6-3.2 µm Ra); can cast fine detail and text | Long lead time for shell building (multiple dipping cycles) |
| **Materials** | Can cast difficult alloys (superalloys, titanium) that can't be machined easily | Wax patterns are fragile and temperature-sensitive |
| **Complexity** | No draft angles required; undercuts and complex internal passages possible | Part size limited (typically < 50 kg) |
| **Repeatability** | Consistent results; excellent for high-volume precision parts | Shell cracking can cause defects |

::: {.callout-industry}
**Industry Applications:**
- **Aerospace:** Turbine blades for jet engines (single-crystal superalloy castings)
- **Medical:** Orthopedic implants (hip joints, knee replacements)
- **Defense:** Firearm components, missile parts
- **Automotive:** Turbocharger wheels, valve bodies
:::

::: {.callout-check}
**Quick Check:** Why is investment casting also called "lost wax" casting? What happens to the wax pattern during the process?
:::

---

### Design for Casting [@reliance-casting-design]

#### Engineering Metal Castings for Quality and Value {#sec:engineering-castings}

Good metal casting design aims to create the simplest mold that will produce the desired shape. This process requires expert knowledge of metals and casting methods to strike the best balance between quality and value in the final product.

Engineers and designers select metals and casting methods based on the mechanical requirements of the end-user. They must determine how the cast object will behave under load, when struck, and in different heat conditions—specifically, whether it will crack, warp, or deform over time. Metal designs may also require a specific grade of finishing for either mechanical or aesthetic reasons.

Ultimately, the designer uses their experience of how material properties and casting methods influence each other in the foundry to create the final design. A key skill is knowing the behavior of metal in its liquid, cooling, and solid states to create a design that minimizes production problems.

#### Variables in Metal Casting Design {#sec:casting-variables}

Several characteristics of the metal itself and the physics of heat transfer significantly affect the outcome of a casting design.

##### Metal Castability

Four main metal characteristics influence the casting process:

* **Fluidity:** This describes the ease with which a molten metal flows. Metals with high fluidity are better able to capture small details within a mold.
* **Shrinkage:** This is the rate at which molten metal contracts as it cools. Shrinkage is categorized by three stages:
    * **Liquid Shrinkage:** Contraction rate when the metal first begins to cool.
    * **Solidification Shrinkage:** Contraction rate when the metal is actively freezing from a liquid to a solid state.
    * **Solid Shrinkage:** Contraction rate once the metal has fully set.
    * These rates help predict strains and defects, especially if parts of the design freeze much faster than others, which can challenge the casting's integrity.
* **Slag or Dross Formation:** This describes the presence of non-metallic inclusions in the casting. Slag/dross on the surface may be acceptable, but sub-surface inclusions are detrimental. 

```{r, echo=FALSE, out.width="50%", fig.align="center", fig.cap="Slag is the dark layer floating on this titanium as it flows from an arc furnace during de-slagging."}
knitr::include_graphics("images/dross-slag-titanium.jpg")
```


* **Pouring Temperature:** This is the specific temperature at which an alloy can be poured. Generally, the hotter the metal, the more production challenges are introduced.

##### Heat Transfer and Solidification Patterns

Solidification is controlled by how heat is transferred and dispersed:

* **Heat Transfer Rates:** Two rates affect solidification speed:
    1.  The dispersion of heat through the metal itself.
    2.  The rate of heat transfer from the casting surface to the mold.
* These rates determine the overall temperature differential across the casting, which can lead to differential cooling as sections change state at different times.
* **Solidification Pattern:** A casting usually crystallizes from the edge inward, cooling quickly where it touches the mold.
* Engineers use the crystallization, heat transfer, and shrinkage rates to predict the solidification pattern and design the mold accordingly to minimize shrinkage problems.
    * **Chills:** Molds may be designed with chills to create more rapid shrinkage in a specific section.
    * **Risers:** Reservoirs, called risers, are connected to the cooling casting to slowly feed liquid metal into it, preventing cavities from forming as the metal shrinks.


#### Design Considerations for Shape and Mold {#sec:design-considerations}

Designers must structure the geometry of the casting and the mold components to manage heat and metal flow.

##### Shape and Section Size Changes

* **Hot Spots:** Increased thickness in material can create hot spots in cooling castings.
* **Uniform Thickness:** Where possible, designing castings with uniform thickness is helpful.
* **Tapering:** For large diameter changes, sections should be tapered slowly to prevent cooling strain.
* **Smoothing and Cores:** Engineers prevent high-volume hotspots by smoothing sharp angles and adding cores.

```{r, echo=FALSE, out.width="50%", fig.align="center", fig.cap="Metal castings with large diameter changes should be tapered slowly to prevent cooling strain."}
knitr::include_graphics("images/metal-casting-wall-slope.png")
```

```{r, echo=FALSE, out.width="50%", fig.align="center", fig.cap="By smoothing sharp angles and adding cores, engineers prevent high-volume hotspots from forming."}
knitr::include_graphics("images/metal-casting-volume-change.png")
```


##### Junctions Between Sections

* **Volume Consistency:** Sharp angles where two or more sections meet can create a larger volume of metal (a hotspot) at the junction.
* **Rounding Corners:** Designers can smooth these corners, rounding them away from sharp angles, to make the metal volume at the junction more consistent with the surrounding metal volumes.

##### Mold Stability and Surface Finish

* **Mold Integrity:** The mold material must be able to withstand the metal's behavior (expansion, contraction, and off-gassing) while it cools, without fracturing or collapsing.
* **Surface Finish Capability:** The molding method dictates the final surface finish.
    * Fine finishes often require more expensive molding processes.
    * For parts requiring precision finishes only in certain areas, the casting can be machined afterward, but the metal must be easily machinable.
    * While intensive molding processes yield smoother finishes and are often costly, for large objects, this can be less expensive than machining the entire surface.

##### Other Mold Design Considerations

To achieve an excellent casting at a good price, the designer should try to minimize or eliminate deep drafts, expensive cores, and irregular parting.

* **Drafts:** These are necessary tapers on the vertical walls of a casting. They ensure the pattern (the positive image of the object) can be removed from the mold without disturbing the walls.

```{r, echo=FALSE, out.width="50%", fig.align="center", fig.cap="Design with Draft Angles"}
knitr::include_graphics("images/Gemini_Generated_Image_b6qi6zb6qi6zb6qi.png")
```


* **Cores:** Cores are used to create intentional voids or holes inside a casting.  They can be costly to produce, but can sometimes be avoided by changing the orientation of the casting or the mold's parting line.

```{r, echo=FALSE, out.width="50%", fig.align="center", fig.cap="A sand mold with a core. Where the halves of the mold come together is the parting line."}
knitr::include_graphics("images/sand-mold-with-core.jpg")
```

* **Parting Lines:** This is the line where the two halves of the mold meet. Risers and gates are often placed along the parting line.

```{r, echo=FALSE, out.width="50%", fig.align="center", fig.cap="Parting Lines"}
knitr::include_graphics("images/Gemini_Generated_Image_67wz4x67wz4x67wz.png")
```

    * **Flash:** Metal may leak into the parting line, creating a thin, flat excess called flash, which requires removal after casting.

##### Excellence in Casting Design {#sec:casting-excellence}

Designing a superior product at the lowest price requires understanding the complex dependencies between materials and methods. The required mechanical properties of the final product determine the metal needed, and that metal's liquid, cooling, and solid behavior dictates the necessary mold features.

* **Example:** Brittle metals are less suited for designs with sharp edges prone to chipping. Metals with low fluidity require molds with less small detail.
* **Process Challenges:** A high melting point (like that of steel) demands a higher level of monitoring and precision throughout the process.

Experience and clear communication among designers, engineers, and metalworkers are crucial for creating a product of quality and value.

---

### Defects in Casting {#sec:casting-defects}

Understanding common casting defects is essential for both designers and quality engineers. By recognizing these defects and their causes, designers can modify their designs to reduce the likelihood of problems, and quality personnel can identify root causes when defects occur.

#### Classification of Casting Defects

Casting defects can be classified into several categories based on their origin:

```{r fig-defect-categories, echo=FALSE, fig.cap="Classification of common casting defects by their primary cause.", fig.align='center', fig.width=10, fig.height=6}
library(ggplot2)
library(dplyr)

# Create defect data
defects <- data.frame(
  category = c("Gas-Related", "Gas-Related", "Shrinkage-Related", "Shrinkage-Related",
               "Mold-Related", "Mold-Related", "Metallurgical", "Metallurgical"),
  defect = c("Porosity", "Blowholes", "Shrinkage Cavity", "Hot Tears",
             "Sand Inclusions", "Misrun", "Cold Shuts", "Segregation"),
  severity = c(7, 6, 8, 9, 5, 6, 7, 6),
  frequency = c(8, 5, 7, 4, 6, 5, 6, 4)
)

ggplot(defects, aes(x = frequency, y = severity, color = category)) +
  geom_point(size = 5) +
  geom_text(aes(label = defect), vjust = -1, size = 3.5) +
  scale_color_manual(values = c("Gas-Related" = "steelblue",
                                 "Shrinkage-Related" = "coral",
                                 "Mold-Related" = "forestgreen",
                                 "Metallurgical" = "purple")) +
  labs(
    title = "Casting Defects: Severity vs. Frequency",
    x = "Relative Frequency of Occurrence",
    y = "Severity of Impact",
    color = "Defect Category"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(hjust = 0.5, face = "bold"),
    legend.position = "right"
  ) +
  xlim(3, 10) +
  ylim(3, 10)
```

#### Gas-Related Defects

**Porosity** occurs when gas becomes trapped in the solidifying metal, creating small voids throughout the casting.

| Cause | Prevention |
|:------|:-----------|
| Dissolved gases in molten metal | Degas the melt before pouring |
| Moisture in the mold | Dry molds thoroughly |
| Turbulent pouring | Design proper gating systems |
| Inadequate venting | Add vents to allow gas escape |

**Blowholes** are larger, rounded cavities caused by gas bubbles that form during solidification.

::: {.callout-think}
**Think About It:** Why might aluminum castings be more susceptible to porosity than steel castings? (Hint: Consider the solubility of hydrogen in molten aluminum.)
:::

#### Shrinkage-Related Defects

**Shrinkage cavities** form when liquid metal solidifies and contracts, but there is insufficient feed metal to compensate.

**Hot tears** (or hot cracks) occur when the casting is restrained from shrinking during the final stages of solidification, causing internal stresses that exceed the metal's strength.

```{r fig-shrinkage-diagram, echo=FALSE, fig.cap="Shrinkage defects form when feed metal cannot reach areas that solidify last.", fig.align='center', fig.width=8, fig.height=5}
library(ggplot2)

ggplot() +
  # Casting cross-section
  geom_rect(aes(xmin = 1, xmax = 9, ymin = 1, ymax = 5), fill = "gray70", color = "black", linewidth = 1) +

  # Thick section (hot spot)
  geom_rect(aes(xmin = 4, xmax = 6, ymin = 1, ymax = 5), fill = "gray60", color = "black", linewidth = 1) +

  # Shrinkage cavity
  geom_polygon(aes(x = c(4.5, 5, 5.5, 5.3, 5, 4.7),
                   y = c(3.5, 4, 3.5, 3, 2.8, 3)),
               fill = "white", color = "red", linewidth = 1.5) +

  # Annotations
  annotate("text", x = 5, y = 3.3, label = "Shrinkage\nCavity", color = "red", fontface = "bold", size = 3.5) +
  annotate("text", x = 5, y = 5.5, label = "Thick Section\n(Last to Solidify)", size = 3.5) +
  annotate("text", x = 2.5, y = 3, label = "Thin\nSection", size = 3) +
  annotate("text", x = 7.5, y = 3, label = "Thin\nSection", size = 3) +

  # Solidification direction arrows
  geom_segment(aes(x = 1.5, xend = 3.5, y = 3, yend = 3),
               arrow = arrow(length = unit(0.2, "cm")), color = "blue", linewidth = 1) +
  geom_segment(aes(x = 8.5, xend = 6.5, y = 3, yend = 3),
               arrow = arrow(length = unit(0.2, "cm")), color = "blue", linewidth = 1) +
  geom_segment(aes(x = 5, xend = 5, y = 1.5, yend = 2.5),
               arrow = arrow(length = unit(0.2, "cm")), color = "blue", linewidth = 1) +
  geom_segment(aes(x = 5, xend = 5, y = 4.5, yend = 3.8),
               arrow = arrow(length = unit(0.2, "cm")), color = "blue", linewidth = 1) +

  annotate("text", x = 5, y = 0.5, label = "Blue arrows show solidification direction (outside-in)",
           color = "blue", size = 3, fontface = "italic") +

  coord_fixed(ratio = 1, xlim = c(0, 10), ylim = c(0, 6)) +
  theme_void() +
  labs(title = "How Shrinkage Cavities Form") +
  theme(plot.title = element_text(hjust = 0.5, face = "bold", size = 14))
```

**Design solutions for shrinkage:**

- Maintain uniform wall thickness
- Use risers to feed thick sections
- Taper sections toward risers (directional solidification)
- Avoid isolated heavy sections

#### Mold-Related Defects

**Sand inclusions** occur when pieces of the mold break off and become embedded in the casting.

**Misruns** happen when the molten metal solidifies before completely filling the mold cavity.

| Defect | Cause | Prevention |
|:-------|:------|:-----------|
| Sand inclusions | Weak mold, erosion from metal flow | Improve sand strength, optimize gating |
| Misrun | Metal too cold, mold too cold, restricted flow | Increase pouring temp, preheat mold, enlarge gates |
| Metal penetration | Metal forced into sand pores | Use finer sand, apply mold coating |
| Mold shift | Cope/drag misalignment | Improve flask alignment, use locating pins |

#### Metallurgical Defects

**Cold shuts** form when two streams of metal meet but fail to fuse completely, creating a visible line or seam in the casting.

**Segregation** refers to non-uniform distribution of alloying elements or impurities, which can cause localized variations in mechanical properties.

::: {.callout-check}
**Quick Check:** A casting shows a large void near the center of its thickest section. Is this more likely a gas porosity defect or a shrinkage cavity? How would you tell the difference?
:::

#### Defect Prevention Through Design

The table below summarizes key design guidelines to prevent common casting defects:

| Design Guideline | Defects Prevented |
|:-----------------|:------------------|
| Maintain uniform wall thickness | Shrinkage, hot tears, warping |
| Avoid sharp corners (use fillets) | Hot tears, stress concentration |
| Provide adequate draft angles | Mold damage, surface tears |
| Design for directional solidification | Shrinkage cavities |
| Minimize core complexity | Sand inclusions, misruns |
| Avoid thin sections adjacent to thick | Cold shuts, shrinkage |

::: {.callout-discussion}
**Group Discussion:** You receive a batch of aluminum castings with small, rounded voids scattered throughout. Working in teams, develop a troubleshooting plan: What tests would you perform? What process changes would you investigate?
:::

---

### Practice Problems {#sec:casting-practice}

::: {.question}
**Problem 1:** A cylindrical aluminum casting (100 mm diameter, 200 mm height) exhibits shrinkage porosity at its center. Sketch the solidification pattern and propose two design modifications to eliminate this defect.
:::

::: {.answer}
**Solution:** The cylinder solidifies from the outside inward and from the ends toward the middle. The center is the last area to solidify and becomes isolated from liquid feed metal.

**Design modifications:**
1. Add a riser at the top connected to the center of the casting to provide feed metal during solidification
2. Taper the cylinder slightly (larger diameter at top) to promote directional solidification toward the riser
:::

::: {.question}
**Problem 2:** Calculate the required draft angle for a 150 mm deep sand casting if the foundry recommends 1.5° per 25 mm of depth for the first 50 mm, and 1° per 25 mm for depths beyond 50 mm.
:::

::: {.answer}
**Solution:**
- First 50 mm: $\frac{50}{25} \times 1.5° = 3°$
- Remaining 100 mm: $\frac{100}{25} \times 1° = 4°$
- Total draft angle: $3° + 4° = 7°$

The pattern should have a 7° draft angle on vertical surfaces.
:::

::: {.question}
**Problem 3:** Compare sand casting and investment casting for producing 500 units of a 2 kg steel valve body with internal passages. Which process would you recommend and why?
:::

::: {.answer}
**Recommendation: Investment Casting**

**Reasoning:**
- Internal passages are easier to achieve without cores
- Steel's high melting point works well with ceramic shells
- 500 units justifies the higher per-part cost
- Superior surface finish reduces machining
- Better dimensional accuracy for valve sealing surfaces

Sand casting would require complex cores and extensive machining, likely making it more expensive at this volume despite lower tooling costs.
:::

---

### Key Takeaways {#sec:casting-takeaways}

1. **Casting fundamentals:** All casting processes involve melting, pouring, solidification, and finishing—but the mold type and material handling vary significantly.

2. **Process selection:** Choose sand casting for large parts and low volumes, investment casting for precision and complex geometries, and lost foam for complex internal features.

3. **Design for manufacturability:** Uniform wall thickness, adequate draft angles, proper filleting, and consideration of parting line placement are essential for quality castings.

4. **Defect prevention:** Most casting defects can be prevented through proper design, controlled process parameters, and quality raw materials.

5. **Material behavior:** Understanding how metals behave during solidification—including shrinkage, fluidity, and solidification patterns—is crucial for successful casting design.

---

### Further Resources {#sec:casting-resources}

**Videos:**
```{r video-investment-casting, echo=FALSE, results='asis'}
embed_youtube("fKLKSN8H6Xg", "Investment Casting Process")
```

**Reading:**
- [Reliance Foundry: Casting Design Guidelines](https://www.reliance-foundry.com/blog/metal-casting-design)
- [3DPCasting: Sand Casting Detailed Steps](https://www.3dpcasting.com/blogs/sand-casting-8-key-steps-in-detail/)
- [General Kinematics: Sand Casting Overview](https://www.generalkinematics.com/blog/sand-casting/)