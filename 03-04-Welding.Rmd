## Design for Welding {#chap-welding}

```{r setup-06, include=FALSE}
## include the helpers.R file for pdf output of youtube on pdfs as a clickable link
source("R/helpers.R")
## include the required packages to make sure the page can be built.
source("R/required_packages.R")

## Set a consistent theme for all plots
theme_welding <- theme_minimal() +
  theme(
    plot.title = element_text(hjust = 0.5, size = 14, face = "bold"),
    plot.subtitle = element_text(hjust = 0.5, size = 10),
    axis.text = element_blank(),
    axis.title = element_blank(),
    axis.ticks = element_blank(),
    panel.grid = element_blank(),
    plot.background = element_rect(fill = "white", color = NA),
    panel.background = element_rect(fill = "white", color = NA)
  )
```

### Learning Objectives {#sec:objectives-06}

By the end of this chapter, you will be able to:

1. **Identify** the key components and zones of a fusion weld
2. **Select** appropriate weld joint types and weld types for different applications
3. **Apply** weld sizing principles for fillet and groove welds
4. **Calculate** fillet weld strength and required weld sizes
5. **Implement** design guidelines to minimize distortion and improve weld quality

::: {.callout-think}
**Before You Read:** Consider a bicycle frame, a ship's hull, and a skyscraper's steel structure. What do they all have in common? They all rely heavily on welded connections. Why do you think welding was chosen over bolting or riveting for these applications?
:::

### Introduction to Design for Welding {#sec:welding-intro}

Welding is the most widely used method for permanently joining metals in structural, mechanical, and industrial applications. Unlike mechanical fastening, welding creates a **metallurgical bond** between components, resulting in joints that can be as strong as‚Äîor stronger than‚Äîthe base materials themselves.

Designing for welding requires careful consideration of joint geometry, material selection, thermal effects, and accessibility. A well-designed weldment minimizes fabrication costs, ensures structural integrity, and reduces the likelihood of defects.

---

> **ü§î Think About It:** Consider a bicycle frame, a ship's hull, and a skyscraper's steel structure. What do they all have in common? They all rely heavily on welded connections. Why do you think welding was chosen over bolting or riveting for these applications?

---

### The Welding Process Fundamentals {#sec:welding-fundamentals}

Welding joins materials by applying **heat**, **pressure**, or both, with or without filler material. The most common welding processes use heat to melt the base metals at the joint interface.

#### Key Welding Terminology

```{r welding-terminology, echo=FALSE, fig.width=10, fig.height=6, fig.align='center', fig.cap="Cross-section of a typical fusion weld showing key zones and terminology."}
ggplot() +
  ## Base metal (left)
  geom_rect(aes(xmin = 0, xmax = 3.5, ymin = 0, ymax = 3), fill = "steelblue", color = "black", linewidth = 1) +

  ## Base metal (right)
  geom_rect(aes(xmin = 6.5, xmax = 10, ymin = 0, ymax = 3), fill = "steelblue", color = "black", linewidth = 1) +

  ## Heat Affected Zone (HAZ) - left
  geom_rect(aes(xmin = 3.5, xmax = 4.3, ymin = 0, ymax = 3), fill = "lightblue", color = "black", linewidth = 0.5) +

  ## Heat Affected Zone (HAZ) - right
  geom_rect(aes(xmin = 5.7, xmax = 6.5, ymin = 0, ymax = 3), fill = "lightblue", color = "black", linewidth = 0.5) +

  ## Weld metal (fusion zone)
  geom_polygon(aes(x = c(4.3, 5, 5.7, 5.7, 5, 4.3),
                   y = c(0, 0.3, 0, 3, 3.8, 3)),
               fill = "orange", color = "black", linewidth = 1) +

  ## Weld reinforcement (cap)
  geom_polygon(aes(x = c(4, 5, 6, 5.7, 5, 4.3),
                   y = c(3, 3.8, 3, 3, 3.8, 3)),
               fill = "darkorange", color = "black", linewidth = 1) +

  ## Root
  geom_polygon(aes(x = c(4.5, 5, 5.5, 5.3, 5, 4.7),
                   y = c(0, -0.3, 0, 0, -0.2, 0)),
               fill = "darkorange", color = "black", linewidth = 0.5) +

  ## Labels with leader lines
  ## Base metal
  annotate("text", x = 1.5, y = 1.5, label = "Base\nMetal", color = "white", fontface = "bold", size = 4) +
  annotate("text", x = 8.5, y = 1.5, label = "Base\nMetal", color = "white", fontface = "bold", size = 4) +

  ## HAZ labels
  geom_segment(aes(x = 3.9, xend = 3, y = 4.5, yend = 3.5),
               arrow = arrow(length = unit(0.15, "cm")), color = "blue") +
  annotate("text", x = 3.9, y = 4.8, label = "Heat Affected\nZone (HAZ)", color = "blue", size = 3.5) +

  ## Fusion zone label
  geom_segment(aes(x = 5, xend = 5, y = 5.2, yend = 4),
               arrow = arrow(length = unit(0.15, "cm")), color = "darkorange") +
  annotate("text", x = 5, y = 5.5, label = "Weld Metal\n(Fusion Zone)", color = "darkorange", fontface = "bold", size = 3.5) +

  ## Reinforcement label
  geom_segment(aes(x = 6.8, xend = 5.8, y = 4, yend = 3.5),
               arrow = arrow(length = unit(0.15, "cm")), color = "black") +
  annotate("text", x = 7.5, y = 4.2, label = "Weld\nReinforcement", size = 3) +

  ## Root label
  geom_segment(aes(x = 5, xend = 5, y = -1, yend = -0.4),
               arrow = arrow(length = unit(0.15, "cm")), color = "black") +
  annotate("text", x = 5, y = -1.3, label = "Root", size = 3.5) +

  ## Toe labels
  geom_point(aes(x = c(4, 6), y = c(3, 3)), size = 3, color = "red") +
  geom_segment(aes(x = 3, xend = 3.9, y = 2.2, yend = 2.9),
               arrow = arrow(length = unit(0.15, "cm")), color = "red") +
  annotate("text", x = 2.5, y = 2, label = "Weld Toe", color = "red", size = 3.5) +

  ## Fusion line
  geom_segment(aes(x = 4.3, xend = 4.3, y = 0, yend = 3),
               linetype = "dashed", color = "yellow", linewidth = 1) +
  annotate("text", x = 4.3, y = -0.6, label = "Fusion\nLine", color = "goldenrod", size = 3) +

  coord_fixed(ratio = 1, xlim = c(-0.5, 10.5), ylim = c(-2, 6)) +
  labs(title = "Anatomy of a Fusion Weld") +
  theme_welding
```

| Term | Definition |
|:-----|:-----------|
| **Base Metal** | The original material being joined |
| **Filler Metal** | Additional metal added to the joint during welding |
| **Weld Metal** | The portion of the fusion zone that has been completely melted |
| **Heat Affected Zone (HAZ)** | Base metal that has not melted but whose properties have been altered by the heat of welding |
| **Fusion Line** | The boundary between the weld metal and the HAZ |
| **Weld Toe** | The junction between the weld face and the base metal |
| **Weld Root** | The points at which the back of the weld intersects the base metal |
| **Reinforcement** | Weld metal in excess of the quantity required to fill the joint |

> **‚ùì Quick Question:** Why might the Heat Affected Zone (HAZ) be a concern in welded structures, even though the metal there never actually melted?

<details>
<summary>Click to reveal the answer</summary>

The HAZ experiences significant thermal cycling (rapid heating and cooling) which can cause:

1. **Grain growth** - reducing strength and toughness
2. **Phase transformations** - potentially forming brittle microstructures
3. **Residual stresses** - from non-uniform thermal expansion/contraction
4. **Softening** - in heat-treated materials (like aluminum alloys)
5. **Sensitization** - in stainless steels, leading to corrosion susceptibility

The HAZ is often the weakest part of a welded joint, which is why proper heat input control and post-weld heat treatment may be necessary.

</details>

---

### Types of Weld Joints {#sec:weld-joints}

A **weld joint** is the configuration of the parts to be joined. The five basic joint types can accommodate various types of welds.

```{r joint-types, echo=FALSE, fig.width=12, fig.height=8, fig.align='center', fig.cap="The five basic types of weld joints."}
ggplot() +
  ## BUTT JOINT
  annotate("text", x = 2, y = 7.5, label = "BUTT JOINT", fontface = "bold", size = 4) +
  geom_rect(aes(xmin = 0.5, xmax = 1.9, ymin = 6, ymax = 7), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 2.1, xmax = 3.5, ymin = 6, ymax = 7), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 1.9, xmax = 2.1, ymin = 5.8, ymax = 7.2), fill = "orange", color = "black") +
  annotate("text", x = 2, y = 5.3, label = "Parts aligned\nin same plane", size = 3, fontface = "italic") +

  ## LAP JOINT
  annotate("text", x = 6, y = 7.5, label = "LAP JOINT", fontface = "bold", size = 4) +
  geom_rect(aes(xmin = 4.5, xmax = 7, ymin = 6.3, ymax = 7), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 5, xmax = 7.5, ymin = 5.6, ymax = 6.3), fill = "lightsteelblue", color = "black", linewidth = 1) +
  geom_polygon(aes(x = c(5, 5, 5.5), y = c(6.3, 7, 6.3)), fill = "orange", color = "black") +
  geom_polygon(aes(x = c(7, 7, 6.5), y = c(5.6, 6.3, 6.3)), fill = "orange", color = "black") +
  annotate("text", x = 6, y = 5.3, label = "Overlapping\nparts", size = 3, fontface = "italic") +

  ## T-JOINT
  annotate("text", x = 10, y = 7.5, label = "T-JOINT", fontface = "bold", size = 4) +
  geom_rect(aes(xmin = 8.5, xmax = 11.5, ymin = 5.6, ymax = 6.3), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 9.7, xmax = 10.3, ymin = 6.3, ymax = 7.8), fill = "lightsteelblue", color = "black", linewidth = 1) +
  geom_polygon(aes(x = c(9.7, 9.7, 9.2), y = c(6.3, 6.8, 6.3)), fill = "orange", color = "black") +
  geom_polygon(aes(x = c(10.3, 10.3, 10.8), y = c(6.3, 6.8, 6.3)), fill = "orange", color = "black") +
  annotate("text", x = 10, y = 5.3, label = "Parts at 90¬∞\n(T-shape)", size = 3, fontface = "italic") +

  ## CORNER JOINT
  annotate("text", x = 3, y = 3.5, label = "CORNER JOINT", fontface = "bold", size = 4) +
  geom_rect(aes(xmin = 1.5, xmax = 4, ymin = 1.5, ymax = 2.2), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 3.3, xmax = 4, ymin = 2.2, ymax = 3.2), fill = "lightsteelblue", color = "black", linewidth = 1) +
  geom_polygon(aes(x = c(3.3, 4, 4), y = c(2.2, 2.2, 2.7)), fill = "orange", color = "black") +
  annotate("text", x = 3, y = 1, label = "Parts at 90¬∞\n(L-shape)", size = 3, fontface = "italic") +

  ## EDGE JOINT
  annotate("text", x = 8, y = 3.5, label = "EDGE JOINT", fontface = "bold", size = 4) +
  geom_polygon(aes(x = c(6.5, 6.5, 9.5, 9.5, 9, 7),
                   y = c(1.5, 2.2, 2.2, 1.5, 1.5, 1.5)),
               fill = "steelblue", color = "black", linewidth = 1) +
  geom_polygon(aes(x = c(6.5, 6.5, 9.5, 9.5, 9, 7),
                   y = c(2.9, 2.2, 2.2, 2.9, 2.9, 2.9)),
               fill = "lightsteelblue", color = "black", linewidth = 1) +
  geom_polygon(aes(x = c(6.5, 7, 6.5), y = c(2.2, 2.55, 2.9)), fill = "orange", color = "black") +
  annotate("text", x = 8, y = 1, label = "Parallel edges\nadjacent", size = 3, fontface = "italic") +

  coord_fixed(ratio = 1, xlim = c(0, 12), ylim = c(0.5, 8)) +
  labs(title = "Five Basic Weld Joint Types") +
  theme_welding
```

#### Joint Selection Guide

| Joint Type | Typical Applications | Advantages | Limitations |
|:-----------|:--------------------|:-----------|:------------|
| **Butt** | Plates, pipes, structural members | Full penetration possible; good strength | Requires edge preparation for thick sections |
| **Lap** | Sheet metal, reinforcing plates | Easy fit-up; tolerant of gaps | Not full penetration; potential crevice corrosion |
| **T-Joint** | Stiffeners, brackets, frames | Versatile; easy to assemble | Stress concentration at the joint |
| **Corner** | Box sections, frames, enclosures | Forms structural shapes | Access may be limited on inside corner |
| **Edge** | Sheet metal, flanges | Low distortion | Limited strength; for thin materials only |

> **ü§î Design Decision:** You need to join two 10 mm thick steel plates end-to-end to form a continuous beam that will carry significant bending loads. Which joint type would you choose and why?

<details>
<summary>Click to reveal analysis</summary>

**Best choice: Butt Joint with full penetration groove weld**

Reasoning:
- **Full penetration** ensures the weld is as strong as the base metal
- **Continuous load path** - bending stresses transfer smoothly across the joint
- **No overlap** - maintains the beam's cross-sectional geometry
- **Smooth stress flow** - minimizes stress concentration

A lap joint would introduce eccentricity and stress concentration, making it unsuitable for bending applications.

</details>

---

### Types of Welds {#sec:weld-types}

Within each joint type, different **weld types** can be applied. The two most common are fillet welds and groove welds.

#### Fillet Welds

**Fillet welds** are triangular in cross-section and are used to join surfaces at approximately right angles (T-joints, lap joints, corner joints).

```{r fillet-weld, echo=FALSE, fig.width=10, fig.height=6, fig.align='center', fig.cap="Fillet weld anatomy and sizing."}
ggplot() +
  ## T-joint base
  geom_rect(aes(xmin = 0.5, xmax = 5.5, ymin = 0.5, ymax = 1.5), fill = "steelblue", color = "black", linewidth = 1) +

  ## Vertical member
  geom_rect(aes(xmin = 2.5, xmax = 3.5, ymin = 1.5, ymax = 5), fill = "lightsteelblue", color = "black", linewidth = 1) +

  ## Left fillet weld
  geom_polygon(aes(x = c(2.5, 2.5, 1.5), y = c(1.5, 2.5, 1.5)),
               fill = "orange", color = "black", linewidth = 1) +

  ## Right fillet weld
  geom_polygon(aes(x = c(3.5, 3.5, 4.5), y = c(1.5, 2.5, 1.5)),
               fill = "orange", color = "black", linewidth = 1) +

  ## Leg dimension (left)
  geom_segment(aes(x = 1.3, xend = 1.3, y = 1.5, yend = 2.5),
               arrow = arrow(length = unit(0.1, "cm"), ends = "both"), linewidth = 0.5) +
  annotate("text", x = 0.9, y = 2, label = "Leg\n(L)", size = 3) +

  ## Leg dimension (bottom)
  geom_segment(aes(x = 1.5, xend = 2.5, y = 1.3, yend = 1.3),
               arrow = arrow(length = unit(0.1, "cm"), ends = "both"), linewidth = 0.5) +
  annotate("text", x = 2, y = 1, label = "Leg (L)", size = 3) +

  ## Throat dimension
  geom_segment(aes(x = 2.5, xend = 2, y = 1.5, yend = 2),
               linetype = "dashed", color = "red", linewidth = 1) +
  geom_segment(aes(x = 2.25, xend = 1.7, y = 1.75, yend = 2.2),
               arrow = arrow(length = unit(0.1, "cm")), color = "red") +
  annotate("text", x = 1.3, y = 2.4, label = "Throat (t)", color = "red", size = 3.5, fontface = "bold") +

  ## Size callout (right side detail)
  annotate("text", x = 7, y = 4.5, label = "Fillet Weld Sizing", fontface = "bold", size = 4) +

  ## Detail triangle
  geom_polygon(aes(x = c(6, 6, 9), y = c(1, 4, 1)),
               fill = "orange", color = "black", linewidth = 1) +

  ## 45-degree line (throat)
  geom_segment(aes(x = 6, xend = 7.5, y = 1, yend = 2.5),
               linetype = "dashed", color = "red", linewidth = 1.5) +

  ## Leg labels on detail
  geom_segment(aes(x = 5.7, xend = 5.7, y = 1, yend = 4),
               arrow = arrow(length = unit(0.1, "cm"), ends = "both"), linewidth = 0.5) +
  annotate("text", x = 5.3, y = 2.5, label = "L", size = 4, fontface = "bold") +

  geom_segment(aes(x = 6, xend = 9, y = 0.7, yend = 0.7),
               arrow = arrow(length = unit(0.1, "cm"), ends = "both"), linewidth = 0.5) +
  annotate("text", x = 7.5, y = 0.3, label = "L", size = 4, fontface = "bold") +

  ## Throat formula
  annotate("text", x = 8.2, y = 2.8, label = "t = 0.707 √ó L", color = "red", size = 4, fontface = "bold") +
  annotate("text", x = 8.2, y = 2.3, label = "(for equal legs)", color = "red", size = 3) +

  ## Face and root labels
  geom_segment(aes(x = 3.5, xend = 4.3, y = 2, yend = 2.3),
               arrow = arrow(length = unit(0.1, "cm")), color = "black") +
  annotate("text", x = 4.8, y = 2.4, label = "Weld Face", size = 3) +

  geom_segment(aes(x = 3.5, xend = 4, y = 1.5, yend = 1.2),
               arrow = arrow(length = unit(0.1, "cm")), color = "black") +
  annotate("text", x = 4.5, y = 1, label = "Weld Root", size = 3) +

  coord_fixed(ratio = 1, xlim = c(0, 10), ylim = c(-0.2, 5.5)) +
  labs(title = "Fillet Weld Anatomy") +
  theme_welding
```

**Key fillet weld parameters:**

- **Leg size (L):** The length of the sides of the triangle
- **Throat (t):** The shortest distance from the root to the face; determines weld strength
- **For equal-leg fillets:** $t = 0.707 \times L$

> **‚ùì Calculation Challenge:** A fillet weld has a leg size of 8 mm. What is the theoretical throat dimension?

<details>
<summary>Click to reveal solution</summary>

$$t = 0.707 \times L = 0.707 \times 8 \text{ mm} = 5.66 \text{ mm}$$

The theoretical throat is **5.66 mm**.

</details>

---

#### Groove Welds

**Groove welds** are made in a groove between the edges of the parts to be joined. They are used primarily for butt joints and provide full or partial penetration.

```{r groove-welds, echo=FALSE, fig.width=12, fig.height=8, fig.align='center', fig.cap="Common groove weld preparations."}
ggplot() +
  ## SQUARE GROOVE
  annotate("text", x = 1.5, y = 7.3, label = "SQUARE", fontface = "bold", size = 3.5) +
  geom_rect(aes(xmin = 0.3, xmax = 1.3, ymin = 5.5, ymax = 7), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 1.7, xmax = 2.7, ymin = 5.5, ymax = 7), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 1.3, xmax = 1.7, ymin = 5.3, ymax = 7.2), fill = "orange", color = "black") +
  annotate("text", x = 1.5, y = 5, label = "Thin\nmaterial", size = 2.5, fontface = "italic") +

  ## SINGLE-V GROOVE
  annotate("text", x = 4.5, y = 7.3, label = "SINGLE-V", fontface = "bold", size = 3.5) +
  geom_polygon(aes(x = c(3.3, 3.3, 4.3, 4.3), y = c(5.5, 7, 7, 5.8)),
               fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(5.7, 5.7, 4.7, 4.7), y = c(5.5, 7, 7, 5.8)),
               fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(4.3, 4.5, 4.7, 4.7, 4.5, 4.3),
                   y = c(5.8, 5.5, 5.8, 7.3, 7.3, 7.3)),
               fill = "orange", color = "black") +
  annotate("text", x = 4.5, y = 5, label = "Most\ncommon", size = 2.5, fontface = "italic") +

  ## DOUBLE-V GROOVE
  annotate("text", x = 7.5, y = 7.3, label = "DOUBLE-V", fontface = "bold", size = 3.5) +
  geom_polygon(aes(x = c(6.3, 6.3, 7.3, 7.3), y = c(5.5, 7, 7, 6.1)),
               fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(8.7, 8.7, 7.7, 7.7), y = c(5.5, 7, 7, 6.1)),
               fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(7.3, 7.5, 7.7), y = c(6.1, 5.5, 6.1)),
               fill = "orange", color = "black") +
  geom_polygon(aes(x = c(7.3, 7.5, 7.7), y = c(6.4, 7.2, 6.4)),
               fill = "orange", color = "black") +
  geom_rect(aes(xmin = 7.3, xmax = 7.7, ymin = 6.1, ymax = 6.4), fill = "orange", color = "black") +
  annotate("text", x = 7.5, y = 5, label = "Thick\nmaterial", size = 2.5, fontface = "italic") +

  ## SINGLE-U GROOVE
  annotate("text", x = 10.5, y = 7.3, label = "SINGLE-U", fontface = "bold", size = 3.5) +
  geom_rect(aes(xmin = 9.3, xmax = 10.2, ymin = 5.5, ymax = 7), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 10.8, xmax = 11.7, ymin = 5.5, ymax = 7), fill = "steelblue", color = "black") +
  ## U-groove shape approximation
  geom_polygon(aes(x = c(10.2, 10.2, 10.35, 10.5, 10.65, 10.8, 10.8, 10.5),
                   y = c(7, 6.2, 5.7, 5.5, 5.7, 6.2, 7, 7.3)),
               fill = "orange", color = "black") +
  annotate("text", x = 10.5, y = 5, label = "Less filler\nneeded", size = 2.5, fontface = "italic") +

  ## SINGLE-BEVEL
  annotate("text", x = 2, y = 3.8, label = "SINGLE-BEVEL", fontface = "bold", size = 3.5) +
  geom_rect(aes(xmin = 0.8, xmax = 1.8, ymin = 2, ymax = 3.5), fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(3.2, 3.2, 2.2, 2.2), y = c(2, 3.5, 3.5, 2.3)),
               fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(1.8, 2, 2.2, 2.2, 2, 1.8),
                   y = c(2, 2, 2.3, 3.7, 3.7, 3.5)),
               fill = "orange", color = "black") +
  annotate("text", x = 2, y = 1.5, label = "One side\nprepared", size = 2.5, fontface = "italic") +

  ## SINGLE-J
  annotate("text", x = 5.5, y = 3.8, label = "SINGLE-J", fontface = "bold", size = 3.5) +
  geom_rect(aes(xmin = 4.3, xmax = 5.3, ymin = 2, ymax = 3.5), fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(6.7, 6.7, 5.7, 5.7, 5.85, 6),
                   y = c(2, 3.5, 3.5, 2.5, 2.2, 2)),
               fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(5.3, 5.5, 5.7, 5.85, 6, 6, 5.5, 5.3),
                   y = c(2, 2, 2.5, 2.2, 2, 3.7, 3.7, 3.5)),
               fill = "orange", color = "black") +
  annotate("text", x = 5.5, y = 1.5, label = "Curved\npreparation", size = 2.5, fontface = "italic") +

  ## FLARE-V
  annotate("text", x = 9, y = 3.8, label = "FLARE-V", fontface = "bold", size = 3.5) +
  ## Curved members
  geom_curve(aes(x = 8, xend = 8.7, y = 2, yend = 3.5), curvature = 0.3,
             linewidth = 8, color = "steelblue") +
  geom_curve(aes(x = 10, xend = 9.3, y = 2, yend = 3.5), curvature = -0.3,
             linewidth = 8, color = "steelblue") +
  geom_polygon(aes(x = c(8.5, 9, 9.5, 9, 9), y = c(2.3, 2, 2.3, 3, 2.5)),
               fill = "orange", color = "black") +
  annotate("text", x = 9, y = 1.5, label = "Round\nmembers", size = 2.5, fontface = "italic") +

  coord_fixed(ratio = 1, xlim = c(0, 12), ylim = c(1, 8)) +
  labs(title = "Common Groove Weld Preparations") +
  theme_welding
```

#### Groove Weld Parameters

```{r groove-parameters, echo=FALSE, fig.width=8, fig.height=6, fig.align='center', fig.cap="Key dimensions in groove weld preparation."}
ggplot() +
  ## Left plate
  geom_polygon(aes(x = c(1, 1, 4, 3.5), y = c(1, 5, 5, 1)),
               fill = "steelblue", color = "black", linewidth = 1) +

  ## Right plate
  geom_polygon(aes(x = c(7, 7, 4, 4.5), y = c(1, 5, 5, 1)),
               fill = "steelblue", color = "black", linewidth = 1) +

  ## Root face
  geom_rect(aes(xmin = 3.5, xmax = 4.5, ymin = 1, ymax = 1.8),
            fill = "steelblue4", color = "black", linewidth = 1) +

  ## Groove angle dimension
  geom_curve(aes(x = 4, xend = 3.2, y = 3, yend = 3.8), curvature = 0.3,
             linewidth = 0.5, color = "red") +
  geom_curve(aes(x = 4, xend = 4.8, y = 3, yend = 3.8), curvature = -0.3,
             linewidth = 0.5, color = "red") +
  annotate("text", x = 4, y = 4.2, label = "Groove Angle", color = "red", size = 3.5, fontface = "bold") +

  ## Bevel angle
  geom_curve(aes(x = 3.5, xend = 3, y = 2.5, yend = 3.2), curvature = 0.3,
             linewidth = 0.5, color = "blue") +
  annotate("text", x = 2.3, y = 3, label = "Bevel\nAngle", color = "blue", size = 3) +

  ## Root opening
  geom_segment(aes(x = 3.5, xend = 4.5, y = 0.7, yend = 0.7),
               arrow = arrow(length = unit(0.1, "cm"), ends = "both"), linewidth = 0.5) +
  annotate("text", x = 4, y = 0.3, label = "Root Opening (Gap)", size = 3.5) +

  ## Root face dimension
  geom_segment(aes(x = 3.2, xend = 3.2, y = 1, yend = 1.8),
               arrow = arrow(length = unit(0.1, "cm"), ends = "both"), linewidth = 0.5) +
  annotate("text", x = 2.5, y = 1.4, label = "Root\nFace", size = 3) +

  ## Plate thickness
  geom_segment(aes(x = 0.7, xend = 0.7, y = 1, yend = 5),
               arrow = arrow(length = unit(0.1, "cm"), ends = "both"), linewidth = 0.5) +
  annotate("text", x = 0.3, y = 3, label = "t", size = 4, fontface = "bold") +

  ## Typical values box
  geom_rect(aes(xmin = 5, xmax = 8.5, ymin = 5.5, ymax = 7.5), fill = "lightyellow", color = "black") +
  annotate("text", x = 6.75, y = 7.2, label = "Typical Values:", fontface = "bold", size = 3.5) +
  annotate("text", x = 6.75, y = 6.7, label = "Groove Angle: 60¬∞ - 90¬∞", size = 3) +
  annotate("text", x = 6.75, y = 6.2, label = "Root Opening: 0 - 3 mm", size = 3) +
  annotate("text", x = 6.75, y = 5.7, label = "Root Face: 1 - 3 mm", size = 3) +

  coord_fixed(ratio = 1, xlim = c(0, 9), ylim = c(-0.2, 8)) +
  labs(title = "Groove Weld Preparation Dimensions") +
  theme_welding
```

> **ü§î Engineering Trade-off:** A larger groove angle makes welding easier (better access) but requires more filler metal. A smaller angle uses less filler but may result in incomplete fusion. For a 25 mm thick plate, would you recommend a single-V or double-V groove? Why?

<details>
<summary>Click to reveal analysis</summary>

**Recommended: Double-V groove**

For thick plates (typically > 20 mm), double-V is preferred because:

1. **Less filler metal** - The volume of a double-V is about half that of a single-V for the same plate thickness
2. **Reduced distortion** - Welding from both sides balances residual stresses
3. **Faster welding** - Less total weld metal to deposit
4. **Better quality** - Easier to achieve full penetration

The trade-off is that the plate must be flipped or welders must work from both sides.

</details>

---

### Welding Symbols {#sec:weld-symbols}

Welding symbols provide a standardized way to communicate welding requirements on engineering drawings. Understanding these symbols is essential for both designers and fabricators.

```{r weld-symbol-basic, echo=FALSE, fig.width=10, fig.height=7, fig.align='center', fig.cap="Basic elements of a welding symbol."}
ggplot() +
  ## Reference line (horizontal)
  geom_segment(aes(x = 2, xend = 9, y = 4, yend = 4), linewidth = 1.5, color = "black") +

  ## Arrow
  geom_segment(aes(x = 2, xend = 1, y = 4, yend = 2.5), linewidth = 1, color = "black") +
  geom_segment(aes(x = 1, xend = 1.3, y = 2.5, yend = 2.8), linewidth = 1, color = "black") +
  geom_segment(aes(x = 1, xend = 0.8, y = 2.5, yend = 2.9), linewidth = 1, color = "black") +

  ## Fillet weld symbol (arrow side)
  geom_polygon(aes(x = c(4, 4, 4.5), y = c(4, 3.5, 4)), fill = "black") +

  ## Tail (optional)
  geom_segment(aes(x = 9, xend = 10, y = 4, yend = 4.3), linewidth = 1, color = "black") +
  geom_segment(aes(x = 9, xend = 10, y = 4, yend = 3.7), linewidth = 1, color = "black") +

  ## Labels with leader lines
  ## Reference line
  geom_segment(aes(x = 5.5, xend = 5.5, y = 5.5, yend = 4.2),
               arrow = arrow(length = unit(0.15, "cm")), color = "blue") +
  annotate("text", x = 5.5, y = 5.8, label = "Reference Line", color = "blue", fontface = "bold", size = 3.5) +

  ## Arrow
  geom_segment(aes(x = 0.3, xend = 0.9, y = 2, yend = 2.4),
               arrow = arrow(length = unit(0.15, "cm")), color = "red") +
  annotate("text", x = 0.3, y = 1.6, label = "Arrow\n(points to joint)", color = "red", size = 3) +

  ## Weld symbol
  geom_segment(aes(x = 4.25, xend = 4.25, y = 2.8, yend = 3.4),
               arrow = arrow(length = unit(0.15, "cm")), color = "darkgreen") +
  annotate("text", x = 4.25, y = 2.4, label = "Weld Symbol\n(type of weld)", color = "darkgreen", size = 3) +

  ## Tail
  geom_segment(aes(x = 10.5, xend = 10.1, y = 4.5, yend = 4.1),
               arrow = arrow(length = unit(0.15, "cm")), color = "purple") +
  annotate("text", x = 10.8, y = 4.8, label = "Tail\n(specifications)", color = "purple", size = 3) +

  ## Arrow side / Other side explanation
  annotate("text", x = 5.5, y = 3.3, label = "Arrow Side", size = 3, fontface = "italic") +
  annotate("text", x = 5.5, y = 4.7, label = "Other Side", size = 3, fontface = "italic") +

  ## Dimension locations
  annotate("text", x = 3.3, y = 3.5, label = "Size", size = 2.8, color = "gray40") +
  annotate("text", x = 6.5, y = 3.5, label = "Length", size = 2.8, color = "gray40") +
  annotate("text", x = 7.5, y = 3.5, label = "Pitch", size = 2.8, color = "gray40") +

  ## Rule box
  geom_rect(aes(xmin = 0.5, xmax = 6, ymin = 6.5, ymax = 8.2), fill = "lightyellow", color = "black") +
  annotate("text", x = 3.25, y = 7.9, label = "KEY RULE:", fontface = "bold", size = 3.5) +
  annotate("text", x = 3.25, y = 7.4, label = "Symbol BELOW reference line = Arrow Side", size = 3) +
  annotate("text", x = 3.25, y = 6.9, label = "Symbol ABOVE reference line = Other Side", size = 3) +

  coord_fixed(ratio = 1, xlim = c(-0.5, 11.5), ylim = c(1, 8.5)) +
  labs(title = "Basic Welding Symbol Structure") +
  theme_welding
```

#### Common Weld Symbols

```{r weld-symbol-types, echo=FALSE, fig.width=12, fig.height=6, fig.align='center', fig.cap="Common weld type symbols."}
ggplot() +
  ## Column headers
  annotate("text", x = 2, y = 5.5, label = "WELD TYPE", fontface = "bold", size = 4) +
  annotate("text", x = 5.5, y = 5.5, label = "SYMBOL", fontface = "bold", size = 4) +
  annotate("text", x = 9.5, y = 5.5, label = "CROSS-SECTION", fontface = "bold", size = 4) +

  ## Horizontal divider
  geom_segment(aes(x = 0.5, xend = 11.5, y = 5.2, yend = 5.2), linewidth = 0.5) +

  ## FILLET
  annotate("text", x = 2, y = 4.5, label = "Fillet", size = 3.5) +
  ## Fillet symbol
  geom_polygon(aes(x = c(5, 5, 6), y = c(4.7, 4.2, 4.7)), fill = "black") +
  ## Fillet cross-section
  geom_rect(aes(xmin = 8.5, xmax = 10.5, ymin = 4, ymax = 4.5), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 9.2, xmax = 9.8, ymin = 4.5, ymax = 5.3), fill = "lightsteelblue", color = "black") +
  geom_polygon(aes(x = c(9.2, 9.2, 8.7), y = c(4.5, 5, 4.5)), fill = "orange", color = "black") +

  ## GROOVE (V)
  annotate("text", x = 2, y = 3.5, label = "V-Groove", size = 3.5) +
  ## V-groove symbol
  geom_polygon(aes(x = c(5, 5.5, 6), y = c(3.7, 3.2, 3.7)), fill = NA, color = "black", linewidth = 1) +
  ## V-groove cross-section
  geom_polygon(aes(x = c(8.5, 8.5, 9.3), y = c(3, 3.8, 3.8)), fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(10.5, 10.5, 9.7), y = c(3, 3.8, 3.8)), fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(9.3, 9.5, 9.7, 9.7, 9.5, 9.3), y = c(3.8, 3, 3.8, 4, 4, 4)), fill = "orange", color = "black") +

  ## SQUARE GROOVE
  annotate("text", x = 2, y = 2.5, label = "Square", size = 3.5) +
  ## Square groove symbol
  geom_rect(aes(xmin = 5.2, xmax = 5.8, ymin = 2.2, ymax = 2.7), fill = NA, color = "black", linewidth = 1) +
  ## Square cross-section
  geom_rect(aes(xmin = 8.5, xmax = 9.4, ymin = 2, ymax = 2.8), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 9.6, xmax = 10.5, ymin = 2, ymax = 2.8), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 9.4, xmax = 9.6, ymin = 1.9, ymax = 2.9), fill = "orange", color = "black") +

  ## BEVEL
  annotate("text", x = 2, y = 1.5, label = "Bevel", size = 3.5) +
  ## Bevel symbol
  geom_polygon(aes(x = c(5, 5, 6), y = c(1.7, 1.2, 1.7)), fill = NA, color = "black", linewidth = 1) +
  geom_segment(aes(x = 5, xend = 5, y = 1.2, yend = 1.7), linewidth = 1) +
  ## Bevel cross-section
  geom_rect(aes(xmin = 8.5, xmax = 9.4, ymin = 1, ymax = 1.8), fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(10.5, 10.5, 9.6, 9.6), y = c(1, 1.8, 1.8, 1.2)), fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(9.4, 9.5, 9.6, 9.6, 9.5, 9.4), y = c(1, 1, 1.2, 2, 2, 1.8)), fill = "orange", color = "black") +

  ## Row dividers
  geom_segment(aes(x = 0.5, xend = 11.5, y = c(4, 3, 2), yend = c(4, 3, 2)),
               linetype = "dotted", color = "gray70") +

  ## Column dividers
  geom_segment(aes(x = c(4, 7.5), xend = c(4, 7.5), y = 0.8, yend = 5.2),
               linetype = "dotted", color = "gray70") +

  coord_fixed(ratio = 1, xlim = c(0, 12), ylim = c(0.5, 6)) +
  labs(title = "Common Weld Type Symbols") +
  theme_welding
```

#### Supplementary Symbols

```{r supplementary-symbols, echo=FALSE, fig.width=10, fig.height=5, fig.align='center', fig.cap="Supplementary welding symbols."}
ggplot() +
  ## WELD ALL AROUND
  annotate("text", x = 1.5, y = 4.5, label = "Weld All\nAround", fontface = "bold", size = 3) +
  ## Circle at junction
  geom_point(aes(x = 1.5, y = 3), size = 15, shape = 1, stroke = 1.5) +
  geom_segment(aes(x = 1.5, xend = 3, y = 3, yend = 3), linewidth = 1) +
  geom_segment(aes(x = 1.5, xend = 0.5, y = 3, yend = 2), linewidth = 1) +

  ## FIELD WELD
  annotate("text", x = 5, y = 4.5, label = "Field Weld\n(on site)", fontface = "bold", size = 3) +
  ## Flag at junction
  geom_polygon(aes(x = c(5, 5, 5.4), y = c(3, 3.4, 3.2)), fill = "black") +
  geom_segment(aes(x = 5, xend = 6.5, y = 3, yend = 3), linewidth = 1) +
  geom_segment(aes(x = 5, xend = 4, y = 3, yend = 2), linewidth = 1) +

  ## CONTOUR - FLUSH
  annotate("text", x = 8.5, y = 4.5, label = "Flush\nContour", fontface = "bold", size = 3) +
  geom_segment(aes(x = 8.5, xend = 10, y = 3, yend = 3), linewidth = 1) +
  geom_segment(aes(x = 8.5, xend = 7.5, y = 3, yend = 2), linewidth = 1) +
  geom_polygon(aes(x = c(8.8, 8.8, 9.3), y = c(3, 2.5, 3)), fill = "black") +
  geom_segment(aes(x = 8.8, xend = 9.3, y = 2.5, yend = 2.5), linewidth = 1) +

  ## CONTOUR - CONVEX
  annotate("text", x = 2, y = 1.8, label = "Convex\nContour", fontface = "bold", size = 3) +
  geom_segment(aes(x = 2, xend = 3.5, y = 1, yend = 1), linewidth = 1) +
  geom_segment(aes(x = 2, xend = 1, y = 1, yend = 0), linewidth = 1) +
  geom_polygon(aes(x = c(2.3, 2.3, 2.8), y = c(1, 0.5, 1)), fill = "black") +
  geom_curve(aes(x = 2.3, xend = 2.8, y = 0.5, yend = 0.5), curvature = -0.5, linewidth = 1) +

  ## CONTOUR - CONCAVE
  annotate("text", x = 6, y = 1.8, label = "Concave\nContour", fontface = "bold", size = 3) +
  geom_segment(aes(x = 6, xend = 7.5, y = 1, yend = 1), linewidth = 1) +
  geom_segment(aes(x = 6, xend = 5, y = 1, yend = 0), linewidth = 1) +
  geom_polygon(aes(x = c(6.3, 6.3, 6.8), y = c(1, 0.5, 1)), fill = "black") +
  geom_curve(aes(x = 6.3, xend = 6.8, y = 0.5, yend = 0.5), curvature = 0.5, linewidth = 1) +

  ## BACKING
  annotate("text", x = 10, y = 1.8, label = "Backing\nBar", fontface = "bold", size = 3) +
  geom_segment(aes(x = 10, xend = 11.5, y = 1, yend = 1), linewidth = 1) +
  geom_segment(aes(x = 10, xend = 9, y = 1, yend = 0), linewidth = 1) +
  ## Backing symbol (rectangle)
  geom_rect(aes(xmin = 10.2, xmax = 10.8, ymin = 1, ymax = 1.3), fill = NA, color = "black", linewidth = 1) +

  coord_fixed(ratio = 1, xlim = c(0, 12), ylim = c(-0.5, 5)) +
  labs(title = "Supplementary Welding Symbols") +
  theme_welding
```

> **‚ùì Symbol Reading Practice:** A welding symbol shows a fillet weld symbol below the reference line with "6" on the left side and "50-100" on the right side. What does this specify?

<details>
<summary>Click to reveal interpretation</summary>

This symbol specifies:

- **Fillet weld** on the **arrow side** of the joint (symbol below reference line)
- **6 mm leg size** (number to the left of the symbol)
- **50 mm weld length** with **100 mm pitch** (center-to-center spacing)

This is an **intermittent fillet weld** pattern: 50 mm long welds spaced 100 mm apart (center-to-center).

</details>

---

### üìè Design Guidelines for Welded Joints {-}

#### Joint Accessibility

The welder must have adequate access to create a quality weld. Poor accessibility leads to defects.

```{r joint-accessibility, echo=FALSE, fig.width=10, fig.height=5, fig.align='center', fig.cap="Good vs. poor joint accessibility for welding."}
ggplot() +
  ## GOOD ACCESS (left)
  annotate("text", x = 2.5, y = 4.5, label = "GOOD ACCESS", fontface = "bold", size = 4, color = "darkgreen") +

  ## Open joint
  geom_rect(aes(xmin = 1, xmax = 4, ymin = 1, ymax = 1.8), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 2.2, xmax = 2.8, ymin = 1.8, ymax = 4), fill = "lightsteelblue", color = "black", linewidth = 1) +

  ## Welds
  geom_polygon(aes(x = c(2.2, 2.2, 1.7), y = c(1.8, 2.5, 1.8)), fill = "orange", color = "black") +
  geom_polygon(aes(x = c(2.8, 2.8, 3.3), y = c(1.8, 2.5, 1.8)), fill = "orange", color = "black") +

  ## Electrode access arrows
  geom_segment(aes(x = 1.2, xend = 1.9, y = 3, yend = 2.3),
               arrow = arrow(length = unit(0.2, "cm"), type = "closed"),
               linewidth = 1, color = "darkgreen") +
  geom_segment(aes(x = 3.8, xend = 3.1, y = 3, yend = 2.3),
               arrow = arrow(length = unit(0.2, "cm"), type = "closed"),
               linewidth = 1, color = "darkgreen") +

  annotate("text", x = 2.5, y = 0.5, label = "Clear electrode\naccess", size = 3, color = "darkgreen") +
  geom_point(aes(x = 2.5, y = 0), shape = 10, size = 6, color = "darkgreen", stroke = 2) +

  ## POOR ACCESS (right)
  annotate("text", x = 7.5, y = 4.5, label = "POOR ACCESS", fontface = "bold", size = 4, color = "red") +

  ## Confined joint
  geom_rect(aes(xmin = 6, xmax = 9, ymin = 1, ymax = 1.8), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 7.2, xmax = 7.8, ymin = 1.8, ymax = 4), fill = "lightsteelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 6, xmax = 6.6, ymin = 1.8, ymax = 3.5), fill = "gray60", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 8.4, xmax = 9, ymin = 1.8, ymax = 3.5), fill = "gray60", color = "black", linewidth = 1) +

  ## Blocked access indicators
  geom_segment(aes(x = 6.2, xend = 6.8, y = 2.8, yend = 2.2),
               linewidth = 1, color = "red") +
  geom_point(aes(x = 6.8, y = 2.2), shape = 4, size = 4, color = "red", stroke = 2) +

  annotate("text", x = 7.5, y = 0.5, label = "Electrode access\nblocked!", size = 3, color = "red") +
  geom_point(aes(x = 7.5, y = 0), shape = 4, size = 6, color = "red", stroke = 2) +

  ## Obstruction labels
  annotate("text", x = 6.3, y = 3.8, label = "Adjacent\nstructure", size = 2.5) +

  ## Dividing line
  geom_vline(xintercept = 5, linetype = "dashed", color = "gray50") +

  coord_fixed(ratio = 1, xlim = c(0.5, 9.5), ylim = c(-0.5, 5)) +
  labs(title = "Joint Accessibility") +
  theme_welding
```

**Design rules for accessibility:**

- Minimum **15-20 mm clearance** around the joint for electrode access
- Consider the **welding position** (flat is easiest; overhead is most difficult)
- Provide **viewing angle** for the welder to see the weld pool
- Allow for **electrode angle** (typically 15-45¬∞ from perpendicular)

---

#### Weld Sizing

Welds should be sized based on the loads they must carry‚Äînot too small (weak) and not too large (wasteful and causes distortion).

```{r weld-sizing, echo=FALSE, fig.width=10, fig.height=5, fig.align='center', fig.cap="Fillet weld sizing guidelines."}
ggplot() +
  ## UNDERSIZED (left)
  annotate("text", x = 1.5, y = 4.5, label = "UNDERSIZED", fontface = "bold", size = 4, color = "red") +

  geom_rect(aes(xmin = 0.5, xmax = 2.5, ymin = 1.5, ymax = 2.3), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 1.2, xmax = 1.8, ymin = 2.3, ymax = 4), fill = "lightsteelblue", color = "black", linewidth = 1) +
  ## Small weld
  geom_polygon(aes(x = c(1.2, 1.2, 1), y = c(2.3, 2.6, 2.3)), fill = "orange", color = "black") +

  annotate("text", x = 1.5, y = 1, label = "Insufficient\nstrength", size = 3, color = "red") +
  geom_point(aes(x = 1.5, y = 0.5), shape = 4, size = 6, color = "red", stroke = 2) +

  ## CORRECT (middle)
  annotate("text", x = 5, y = 4.5, label = "CORRECT", fontface = "bold", size = 4, color = "darkgreen") +

  geom_rect(aes(xmin = 4, xmax = 6, ymin = 1.5, ymax = 2.3), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 4.7, xmax = 5.3, ymin = 2.3, ymax = 4), fill = "lightsteelblue", color = "black", linewidth = 1) +
  ## Proper weld
  geom_polygon(aes(x = c(4.7, 4.7, 4.1), y = c(2.3, 2.9, 2.3)), fill = "orange", color = "black") +
  geom_polygon(aes(x = c(5.3, 5.3, 5.9), y = c(2.3, 2.9, 2.3)), fill = "orange", color = "black") +

  annotate("text", x = 5, y = 1, label = "Adequate strength\nMinimum distortion", size = 3, color = "darkgreen") +
  geom_point(aes(x = 5, y = 0.5), shape = 10, size = 6, color = "darkgreen", stroke = 2) +

  ## OVERSIZED (right)
  annotate("text", x = 8.5, y = 4.5, label = "OVERSIZED", fontface = "bold", size = 4, color = "red") +

  geom_rect(aes(xmin = 7.5, xmax = 9.5, ymin = 1.5, ymax = 2.3), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 8.2, xmax = 8.8, ymin = 2.3, ymax = 4), fill = "lightsteelblue", color = "black", linewidth = 1) +
  ## Large weld
  geom_polygon(aes(x = c(8.2, 8.2, 7.3), y = c(2.3, 3.2, 2.3)), fill = "orange", color = "black") +
  geom_polygon(aes(x = c(8.8, 8.8, 9.7), y = c(2.3, 3.2, 2.3)), fill = "orange", color = "black") +

  annotate("text", x = 8.5, y = 1, label = "Excessive heat\nDistortion", size = 3, color = "red") +
  geom_point(aes(x = 8.5, y = 0.5), shape = 4, size = 6, color = "red", stroke = 2) +

  ## Dividing lines
  geom_vline(xintercept = c(3, 7), linetype = "dashed", color = "gray50") +

  coord_fixed(ratio = 1, xlim = c(0, 10), ylim = c(0, 5)) +
  labs(title = "Weld Sizing: Not Too Small, Not Too Large") +
  theme_welding
```

**Fillet weld sizing rules:**

| Rule | Guideline |
|:-----|:----------|
| **Minimum leg size** | ‚â• thickness of thinner member (for structural welds) |
| **Maximum leg size** | ‚â§ thickness of thinner member |
| **For lap joints** | Leg size ‚â§ 0.75 √ó thickness of thinner plate |
| **Intermittent welds** | Length ‚â• 4 √ó leg size; pitch ‚â§ 16 √ó thinner plate thickness |

> **‚ùì Sizing Problem:** Two plates are being joined with a fillet weld. The plates are 10 mm and 6 mm thick. What should be the maximum fillet weld leg size?

<details>
<summary>Click to reveal solution</summary>

The maximum leg size is limited by the **thinner plate**:

Maximum leg size = 6 mm (thickness of thinner plate)

In practice, you might use 5 mm to provide a slight edge clearance and avoid burning through the thinner plate.

</details>

---

#### Minimizing Distortion

Welding introduces heat that causes expansion and contraction, leading to distortion and residual stresses.

```{r distortion-types, echo=FALSE, fig.width=12, fig.height=5, fig.align='center', fig.cap="Common types of weld distortion."}
ggplot() +
  ## LONGITUDINAL SHRINKAGE
  annotate("text", x = 2, y = 4.5, label = "LONGITUDINAL\nSHRINKAGE", fontface = "bold", size = 3.5) +

  ## Before
  geom_rect(aes(xmin = 0.5, xmax = 3.5, ymin = 2.8, ymax = 3.5),
            fill = "lightsteelblue", color = "black", linetype = "dashed") +
  annotate("text", x = 2, y = 3.15, label = "Before", size = 2.5, color = "gray50") +

  ## After (shortened)
  geom_rect(aes(xmin = 0.7, xmax = 3.3, ymin = 1.5, ymax = 2.2), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 1.8, xmax = 2.2, ymin = 1.3, ymax = 2.4), fill = "orange", color = "black") +
  annotate("text", x = 2, y = 1.85, label = "After", size = 2.5, color = "white") +

  ## Shrinkage arrows
  geom_segment(aes(x = 0.5, xend = 0.7, y = 1.85, yend = 1.85),
               arrow = arrow(length = unit(0.15, "cm"), type = "closed"), color = "red", linewidth = 1) +
  geom_segment(aes(x = 3.5, xend = 3.3, y = 1.85, yend = 1.85),
               arrow = arrow(length = unit(0.15, "cm"), type = "closed"), color = "red", linewidth = 1) +

  annotate("text", x = 2, y = 0.8, label = "Weld contracts\nalong its length", size = 2.5) +

  ## TRANSVERSE SHRINKAGE
  annotate("text", x = 6, y = 4.5, label = "TRANSVERSE\nSHRINKAGE", fontface = "bold", size = 3.5) +

  ## Before
  geom_rect(aes(xmin = 4.8, xmax = 5.7, ymin = 2.8, ymax = 3.8),
            fill = "lightsteelblue", color = "black", linetype = "dashed") +
  geom_rect(aes(xmin = 6.3, xmax = 7.2, ymin = 2.8, ymax = 3.8),
            fill = "lightsteelblue", color = "black", linetype = "dashed") +

  ## After (pulled together)
  geom_rect(aes(xmin = 5, xmax = 5.8, ymin = 1.5, ymax = 2.5), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 6.2, xmax = 7, ymin = 1.5, ymax = 2.5), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 5.8, xmax = 6.2, ymin = 1.3, ymax = 2.7), fill = "orange", color = "black") +

  ## Shrinkage arrows
  geom_segment(aes(x = 4.8, xend = 5, y = 2, yend = 2),
               arrow = arrow(length = unit(0.15, "cm"), type = "closed"), color = "red", linewidth = 1) +
  geom_segment(aes(x = 7.2, xend = 7, y = 2, yend = 2),
               arrow = arrow(length = unit(0.15, "cm"), type = "closed"), color = "red", linewidth = 1) +

  annotate("text", x = 6, y = 0.8, label = "Plates pulled\ntogether", size = 2.5) +

  ## ANGULAR DISTORTION
  annotate("text", x = 10, y = 4.5, label = "ANGULAR\nDISTORTION", fontface = "bold", size = 3.5) +

  ## Before (flat)
  geom_segment(aes(x = 8.5, xend = 11.5, y = 3.3, yend = 3.3),
               color = "gray50", linetype = "dashed", linewidth = 2) +

  ## After (bent up)
  geom_polygon(aes(x = c(8.5, 9.8, 10, 10.2, 11.5, 11.5, 10, 8.5),
                   y = c(2.3, 1.7, 1.6, 1.7, 2.3, 2.5, 1.8, 2.5)),
               fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 9.8, xmax = 10.2, ymin = 1.5, ymax = 2), fill = "orange", color = "black") +

  ## Angle indicators
  geom_curve(aes(x = 9, xend = 9.5, y = 2.4, yend = 2),
             curvature = -0.3, color = "red", linewidth = 1,
             arrow = arrow(length = unit(0.1, "cm"), ends = "both")) +

  annotate("text", x = 10, y = 0.8, label = "Single-side weld\ncauses bending", size = 2.5) +

  ## Dividing lines
  geom_vline(xintercept = c(4, 8), linetype = "dashed", color = "gray50") +

  coord_fixed(ratio = 1, xlim = c(0, 12), ylim = c(0.3, 5)) +
  labs(title = "Common Types of Weld Distortion") +
  theme_welding
```

**Design strategies to minimize distortion:**

1. **Use the minimum weld size** that provides adequate strength
2. **Balance welds symmetrically** - use double-V instead of single-V for thick sections
3. **Use intermittent welds** instead of continuous welds where possible
4. **Sequence welds properly** - alternate sides, weld toward free ends
5. **Pre-set or pre-bend** parts to compensate for expected distortion
6. **Use fixtures and clamps** to restrain parts during welding

---

#### Fatigue Considerations

Welded joints are particularly susceptible to fatigue failure due to:

- Stress concentrations at weld toes
- Residual tensile stresses
- Potential defects (porosity, lack of fusion)

```{r fatigue-improvement, echo=FALSE, fig.width=10, fig.height=5, fig.align='center', fig.cap="Design improvements for fatigue resistance."}
ggplot() +
  ## POOR FATIGUE DESIGN (left)
  annotate("text", x = 2, y = 4.5, label = "POOR FATIGUE\nRESISTANCE", fontface = "bold", size = 3.5, color = "red") +

  ## Sharp weld toe
  geom_rect(aes(xmin = 0.5, xmax = 3.5, ymin = 1.5, ymax = 2.3), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 1.7, xmax = 2.3, ymin = 2.3, ymax = 4), fill = "lightsteelblue", color = "black", linewidth = 1) +
  ## Sharp profile weld
  geom_polygon(aes(x = c(1.7, 1.7, 1), y = c(2.3, 3, 2.3)), fill = "orange", color = "black", linewidth = 1) +

  ## Stress concentration indicator
  geom_point(aes(x = 1, y = 2.3), color = "red", size = 4) +
  annotate("text", x = 0.5, y = 2.8, label = "Stress\nconcentration!", color = "red", size = 2.5) +

  ## Sharp angle indicator
  geom_curve(aes(x = 1.3, xend = 0.9, y = 2.5, yend = 2.3), curvature = 0.3, color = "red") +
  annotate("text", x = 1.4, y = 2.8, label = "Sharp\nangle", color = "red", size = 2.5) +

  annotate("text", x = 2, y = 1, label = "Sharp toe angle\nHigh reinforcement", size = 2.5, color = "red") +

  ## GOOD FATIGUE DESIGN (right)
  annotate("text", x = 7.5, y = 4.5, label = "GOOD FATIGUE\nRESISTANCE", fontface = "bold", size = 3.5, color = "darkgreen") +

  ## Smooth weld profile
  geom_rect(aes(xmin = 6, xmax = 9, ymin = 1.5, ymax = 2.3), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 7.2, xmax = 7.8, ymin = 2.3, ymax = 4), fill = "lightsteelblue", color = "black", linewidth = 1) +

  ## Smooth profile weld (concave)
  geom_curve(aes(x = 7.2, xend = 6.5, y = 2.6, yend = 2.3), curvature = 0.3,
             linewidth = 8, color = "orange") +
  geom_curve(aes(x = 7.8, xend = 8.5, y = 2.6, yend = 2.3), curvature = -0.3,
             linewidth = 8, color = "orange") +

  ## Smooth transition indicator
  geom_curve(aes(x = 6.2, xend = 6.6, y = 2.5, yend = 2.3), curvature = 0.3, color = "darkgreen") +
  annotate("text", x = 6, y = 2.8, label = "Smooth\ntransition", color = "darkgreen", size = 2.5) +

  annotate("text", x = 7.5, y = 1, label = "Smooth toe blend\nLow reinforcement", size = 2.5, color = "darkgreen") +

  ## Dividing line
  geom_vline(xintercept = 4.5, linetype = "dashed", color = "gray50") +

  coord_fixed(ratio = 1, xlim = c(0, 10), ylim = c(0.5, 5)) +
  labs(title = "Fatigue-Resistant Weld Design") +
  theme_welding
```

**Design rules for fatigue-critical welds:**

- **Grind weld toes** smooth to reduce stress concentration
- Use **full penetration welds** in critical areas
- **Avoid undercut** (notch at weld toe)
- Specify **weld profile** (flush or concave is better than convex)
- Consider **post-weld treatments**: shot peening, TIG dressing, or hammer peening

---

### Material Weldability {#sec:weld-materials}

Not all materials weld equally well. **Weldability** is the ability of a material to be welded without defects and retain satisfactory mechanical properties.

#### Carbon Steel Weldability

The weldability of steel depends largely on its **carbon equivalent (CE)**:

$$CE = C + \frac{Mn}{6} + \frac{Cr + Mo + V}{5} + \frac{Ni + Cu}{15}$$

```{r carbon-equivalent, echo=FALSE, fig.width=8, fig.height=5, fig.align='center', fig.cap="Weldability zones based on carbon equivalent."}
ce_data <- data.frame(
  CE = seq(0, 0.7, 0.01)
)

ggplot(ce_data, aes(x = CE)) +
  ## Excellent zone
  annotate("rect", xmin = 0, xmax = 0.35, ymin = 0, ymax = 1, fill = "green", alpha = 0.3) +
  annotate("text", x = 0.175, y = 0.5, label = "EXCELLENT\nWeldability\n\nNo preheat\nrequired", size = 3.5, fontface = "bold") +

  ## Good zone
  annotate("rect", xmin = 0.35, xmax = 0.45, ymin = 0, ymax = 1, fill = "yellow", alpha = 0.3) +
  annotate("text", x = 0.4, y = 0.5, label = "GOOD\n\nMild\npreheat", size = 3, fontface = "bold") +

  ## Fair zone
  annotate("rect", xmin = 0.45, xmax = 0.55, ymin = 0, ymax = 1, fill = "orange", alpha = 0.3) +
  annotate("text", x = 0.5, y = 0.5, label = "FAIR\n\nPreheat\nrequired", size = 3, fontface = "bold") +

  ## Poor zone
  annotate("rect", xmin = 0.55, xmax = 0.7, ymin = 0, ymax = 1, fill = "red", alpha = 0.3) +
  annotate("text", x = 0.625, y = 0.5, label = "POOR\n\nHigh preheat\n& PWHT", size = 3, fontface = "bold") +

  ## Zone boundaries
  geom_vline(xintercept = c(0.35, 0.45, 0.55), linetype = "dashed", color = "black") +

  ## Typical materials
  annotate("text", x = 0.15, y = 0.1, label = "Mild Steel", size = 2.5, fontface = "italic") +
  annotate("text", x = 0.38, y = 0.1, label = "Medium\nCarbon", size = 2.5, fontface = "italic") +
  annotate("text", x = 0.5, y = 0.1, label = "High\nStrength", size = 2.5, fontface = "italic") +
  annotate("text", x = 0.63, y = 0.1, label = "Tool\nSteel", size = 2.5, fontface = "italic") +

  scale_x_continuous(breaks = seq(0, 0.7, 0.1),
                     labels = scales::number_format(accuracy = 0.1)) +

  labs(title = "Steel Weldability Based on Carbon Equivalent",
       x = "Carbon Equivalent (CE)",
       y = "") +
  theme_minimal() +
  theme(
    plot.title = element_text(hjust = 0.5, face = "bold"),
    axis.text.y = element_blank(),
    axis.ticks.y = element_blank(),
    panel.grid.major.y = element_blank(),
    panel.grid.minor = element_blank()
  )
```

#### Weldability of Common Materials

| Material | Weldability | Key Considerations |
|:---------|:------------|:-------------------|
| **Low Carbon Steel** (< 0.25% C) | Excellent | Most weldable; no special precautions |
| **Medium Carbon Steel** (0.25-0.45% C) | Good to Fair | May need preheat; risk of HAZ hardening |
| **High Carbon Steel** (> 0.45% C) | Poor | Preheat and PWHT required; crack-sensitive |
| **Stainless Steel (304/316)** | Good | Control heat input to avoid sensitization |
| **Aluminum Alloys** | Good to Fair | Requires shielding gas; oxide removal critical |
| **Cast Iron** | Poor | Very crack-sensitive; specialized procedures needed |
| **Titanium** | Fair | Requires complete shielding from atmosphere |

> **ü§î Material Challenge:** You need to weld a bracket made from AISI 4140 steel (0.4% C, 1% Cr, 0.2% Mo, 0.9% Mn). Calculate the carbon equivalent and determine what precautions are needed.

<details>
<summary>Click to reveal calculation</summary>

$$CE = 0.4 + \frac{0.9}{6} + \frac{1 + 0.2 + 0}{5} + \frac{0 + 0}{15}$$
$$CE = 0.4 + 0.15 + 0.24 + 0 = 0.79$$

With CE = 0.79 (in the "poor" weldability zone):

**Required precautions:**
1. **Preheat** to 200-300¬∞C before welding
2. Use **low-hydrogen electrodes** (e.g., E7018)
3. Control **interpass temperature**
4. **Post-weld heat treatment (PWHT)** - stress relief at 600-650¬∞C
5. **Slow cooling** after welding

</details>

---

### Common Weld Defects and Prevention {#sec:weld-defects}

Understanding weld defects helps designers specify requirements that prevent them.

```{r weld-defects, echo=FALSE, fig.width=12, fig.height=8, fig.align='center', fig.cap="Common weld defects and their appearance."}
ggplot() +
  ## POROSITY
  annotate("text", x = 2, y = 7.3, label = "POROSITY", fontface = "bold", size = 4) +
  ## Weld cross-section with pores
  geom_rect(aes(xmin = 0.5, xmax = 1.5, ymin = 5.5, ymax = 7), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 2.5, xmax = 3.5, ymin = 5.5, ymax = 7), fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(1.5, 2, 2.5, 2.5, 2, 1.5), y = c(5.5, 5.3, 5.5, 7, 7.3, 7)),
               fill = "orange", color = "black") +
  ## Pores
  geom_point(aes(x = c(1.8, 2.1, 2.3, 1.9, 2.2), y = c(5.8, 6.2, 5.9, 6.5, 6.7)),
             size = 3, color = "black", shape = 16) +
  annotate("text", x = 2, y = 5, label = "Gas pockets\ntrapped in weld", size = 2.5) +

  ## UNDERCUT
  annotate("text", x = 6, y = 7.3, label = "UNDERCUT", fontface = "bold", size = 4) +
  geom_rect(aes(xmin = 4.5, xmax = 7.5, ymin = 5.5, ymax = 6.3), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 5.7, xmax = 6.3, ymin = 6.3, ymax = 7.5), fill = "lightsteelblue", color = "black") +
  geom_polygon(aes(x = c(5.7, 5.7, 5.2), y = c(6.3, 6.9, 6.3)), fill = "orange", color = "black") +
  ## Undercut notch
  geom_curve(aes(x = 5.2, xend = 5.5, y = 6.3, yend = 6.1), curvature = 0.5, linewidth = 2, color = "steelblue") +
  geom_point(aes(x = 5.2, y = 6.2), color = "red", size = 3) +
  annotate("text", x = 4.8, y = 5.9, label = "Notch", color = "red", size = 2.5) +
  annotate("text", x = 6, y = 5, label = "Groove melted into\nbase metal at toe", size = 2.5) +

  ## LACK OF FUSION
  annotate("text", x = 10, y = 7.3, label = "LACK OF FUSION", fontface = "bold", size = 4) +
  geom_rect(aes(xmin = 8.5, xmax = 11.5, ymin = 5.5, ymax = 6.3), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 9.7, xmax = 10.3, ymin = 6.3, ymax = 7.5), fill = "lightsteelblue", color = "black") +
  geom_polygon(aes(x = c(9.7, 9.7, 9.2), y = c(6.3, 6.9, 6.3)), fill = "orange", color = "black") +
  ## Lack of fusion line
  geom_segment(aes(x = 9.7, xend = 9.7, y = 6.3, yend = 6.8), linewidth = 2, color = "black") +
  annotate("text", x = 9.2, y = 6.6, label = "No bond!", color = "red", size = 2.5) +
  annotate("text", x = 10, y = 5, label = "Weld metal doesn't\nfuse with base", size = 2.5) +

  ## INCOMPLETE PENETRATION
  annotate("text", x = 2, y = 3.8, label = "INCOMPLETE\nPENETRATION", fontface = "bold", size = 3.5) +
  geom_polygon(aes(x = c(0.5, 0.5, 1.8, 1.8), y = c(1.5, 3, 3, 1.8)), fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(3.5, 3.5, 2.2, 2.2), y = c(1.5, 3, 3, 1.8)), fill = "steelblue", color = "black") +
  geom_polygon(aes(x = c(1.8, 2, 2.2, 2.2, 2, 1.8), y = c(1.8, 1.6, 1.8, 3.2, 3.5, 3.2)),
               fill = "orange", color = "black") +
  ## Gap at root
  geom_rect(aes(xmin = 1.8, xmax = 2.2, ymin = 1.5, ymax = 1.8), fill = "black") +
  annotate("text", x = 2, y = 1.2, label = "Root not\nfused", color = "red", size = 2.5) +

  ## CRACK
  annotate("text", x = 6, y = 3.8, label = "CRACK", fontface = "bold", size = 4) +
  geom_rect(aes(xmin = 4.5, xmax = 7.5, ymin = 1.5, ymax = 2.3), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 5.7, xmax = 6.3, ymin = 2.3, ymax = 3.5), fill = "lightsteelblue", color = "black") +
  geom_polygon(aes(x = c(5.7, 5.7, 5.2), y = c(2.3, 2.9, 2.3)), fill = "orange", color = "black") +
  ## Crack line
  geom_path(aes(x = c(5.5, 5.6, 5.4, 5.55, 5.45), y = c(2.3, 2.5, 2.65, 2.8, 2.95)),
            linewidth = 1.5, color = "red") +
  annotate("text", x = 6, y = 1.2, label = "Most serious\ndefect", color = "red", size = 2.5) +

  ## SPATTER
  annotate("text", x = 10, y = 3.8, label = "SPATTER", fontface = "bold", size = 4) +
  geom_rect(aes(xmin = 8.5, xmax = 11.5, ymin = 1.5, ymax = 2.3), fill = "steelblue", color = "black") +
  geom_rect(aes(xmin = 9.7, xmax = 10.3, ymin = 2.3, ymax = 3.5), fill = "lightsteelblue", color = "black") +
  geom_polygon(aes(x = c(9.7, 9.7, 9.2), y = c(2.3, 2.9, 2.3)), fill = "orange", color = "black") +
  ## Spatter droplets
  geom_point(aes(x = c(8.8, 9.1, 8.9, 11, 11.2, 10.9), y = c(2.4, 2.6, 2.1, 2.5, 2.2, 2.7)),
             size = 2, color = "orange") +
  annotate("text", x = 10, y = 1.2, label = "Metal droplets\non surface", size = 2.5) +

  coord_fixed(ratio = 1, xlim = c(0, 12), ylim = c(0.8, 7.8)) +
  labs(title = "Common Weld Defects") +
  theme_welding
```

#### Defect Causes and Prevention

| Defect | Causes | Prevention |
|:-------|:-------|:-----------|
| **Porosity** | Contamination, moisture, improper shielding | Clean surfaces; dry electrodes; proper gas flow |
| **Undercut** | Excessive current, wrong angle, fast travel | Reduce current; proper technique; slower speed |
| **Lack of Fusion** | Low heat input, wrong angle, oxide films | Increase current; proper angle; clean surfaces |
| **Incomplete Penetration** | Low current, fast travel, large root face | Increase current; proper joint prep; back gouge |
| **Cracks** | High restraint, hydrogen, fast cooling | Preheat; low-H electrodes; reduce restraint |
| **Spatter** | High current, long arc, contamination | Reduce current; shorter arc; clean surfaces |

---

### üìã Design Checklist for Welding {-}

#### Joint Design
- [ ] Selected appropriate joint type for loading conditions
- [ ] Specified correct weld type (fillet, groove, etc.)
- [ ] Weld size adequate for required strength
- [ ] Weld access is adequate (15-20 mm minimum clearance)
- [ ] Welding position considered (flat preferred)

#### Material Considerations
- [ ] Base metal weldability verified
- [ ] Filler metal compatibility confirmed
- [ ] Preheat requirements determined (if needed)
- [ ] Post-weld heat treatment specified (if needed)

#### Distortion Control
- [ ] Welds balanced symmetrically where possible
- [ ] Minimum weld size specified to reduce heat input
- [ ] Welding sequence specified for critical assemblies
- [ ] Allowance for shrinkage in dimensions

#### Quality Requirements
- [ ] Weld symbols correctly applied on drawings
- [ ] Inspection requirements specified (visual, NDT)
- [ ] Acceptance criteria defined
- [ ] Welder qualification requirements stated

#### Fatigue and Strength
- [ ] Weld toe geometry specified for fatigue-critical joints
- [ ] Full penetration specified where required
- [ ] Stress concentrations minimized
- [ ] Backup bars or backgouging specified if needed

---

### üéØ Case Study: Welded Frame Design {-}

**Design Requirements:**

A machine frame must be fabricated from structural steel tubes (50 mm √ó 50 mm √ó 3 mm wall thickness) with the following requirements:

* Must support 10 kN static load
* Fatigue loading expected (10‚Å∂ cycles)
* Minimal distortion required for mounting surfaces
* Cost-effective fabrication

```{r frame-case-study, echo=FALSE, fig.width=10, fig.height=7, fig.align='center', fig.cap="Welded frame design with potential improvements highlighted."}
ggplot() +
  ## Frame outline
  ## Vertical members
  geom_rect(aes(xmin = 1, xmax = 1.6, ymin = 1, ymax = 5), fill = "steelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 7.4, xmax = 8, ymin = 1, ymax = 5), fill = "steelblue", color = "black", linewidth = 1) +

  ## Horizontal members
  geom_rect(aes(xmin = 1.6, xmax = 7.4, ymin = 4.4, ymax = 5), fill = "lightsteelblue", color = "black", linewidth = 1) +
  geom_rect(aes(xmin = 1.6, xmax = 7.4, ymin = 1, ymax = 1.6), fill = "lightsteelblue", color = "black", linewidth = 1) +

  ## Cross brace
  geom_polygon(aes(x = c(1.6, 7.4, 7.4, 1.6), y = c(1.6, 4.4, 4.1, 1.9)),
               fill = "gray70", color = "black", linewidth = 1) +

  ## Corner welds (shown as triangles)
  ## Top left
  geom_polygon(aes(x = c(1.6, 1.6, 2.1), y = c(4.4, 4.9, 4.4)), fill = "orange", color = "black") +
  ## Top right
  geom_polygon(aes(x = c(7.4, 7.4, 6.9), y = c(4.4, 4.9, 4.4)), fill = "orange", color = "black") +
  ## Bottom left
  geom_polygon(aes(x = c(1.6, 1.6, 2.1), y = c(1.6, 1.1, 1.6)), fill = "orange", color = "black") +
  ## Bottom right
  geom_polygon(aes(x = c(7.4, 7.4, 6.9), y = c(1.6, 1.1, 1.6)), fill = "orange", color = "black") +

  ## Issue callouts
  ## Issue 1: Single-sided welds
  geom_rect(aes(xmin = 1.3, xmax = 2.4, ymin = 4.2, ymax = 5.2), fill = NA, color = "red", linewidth = 1.5) +
  geom_segment(aes(x = 0.5, xend = 1.3, y = 5.5, yend = 4.9),
               arrow = arrow(length = unit(0.15, "cm")), color = "red") +
  annotate("text", x = 0.5, y = 5.9, label = "Issue 1:\nSingle-sided\nfillet only", color = "red", size = 2.8, hjust = 0) +

  ## Issue 2: No stiffener at load point
  geom_segment(aes(x = 4.5, xend = 4.5, y = 6.5, yend = 5.2),
               arrow = arrow(length = unit(0.2, "cm"), type = "closed"), color = "darkgreen", linewidth = 1.5) +
  annotate("text", x = 4.5, y = 6.8, label = "Load: 10 kN", color = "darkgreen", fontface = "bold", size = 3.5) +
  geom_rect(aes(xmin = 4, xmax = 5, ymin = 4.4, ymax = 5.2), fill = NA, color = "red", linewidth = 1.5, linetype = "dashed") +
  annotate("text", x = 5.5, y = 5.8, label = "Issue 2:\nNo stiffener\nat load point", color = "red", size = 2.8, hjust = 0) +

  ## Issue 3: Sharp corner at brace
  geom_rect(aes(xmin = 1.4, xmax = 2.2, ymin = 1.4, ymax = 2.2), fill = NA, color = "red", linewidth = 1.5) +
  geom_segment(aes(x = 0.5, xend = 1.5, y = 0.3, yend = 1.4),
               arrow = arrow(length = unit(0.15, "cm")), color = "red") +
  annotate("text", x = 0.5, y = 0, label = "Issue 3:\nSharp corner\n(fatigue risk)", color = "red", size = 2.8, hjust = 0) +

  ## Dimension annotations
  geom_segment(aes(x = 1, xend = 8, y = 0.3, yend = 0.3),
               arrow = arrow(length = unit(0.1, "cm"), ends = "both"), linewidth = 0.5) +
  annotate("text", x = 4.5, y = 0, label = "Frame width", size = 3) +

  ## Title
  annotate("text", x = 4.5, y = 7.5, label = "Welded Frame - Initial Design Review", fontface = "bold", size = 4) +

  coord_fixed(ratio = 1, xlim = c(-0.5, 9.5), ylim = c(-0.5, 8)) +
  theme_welding
```

> **ü§î Your Turn:** Based on the design guidelines covered, identify improvements for this frame design.

<details>
<summary>Click to reveal analysis and recommendations</summary>

**Issue 1: Single-sided fillet welds**
- Problem: May cause angular distortion; stress concentration
- Solution: Use double-sided fillet welds or specify full penetration at critical corners

**Issue 2: No stiffener at load application point**
- Problem: Concentrated load may cause local buckling or fatigue cracking
- Solution: Add a gusset plate or stiffener at the load point

**Issue 3: Sharp corners at brace connections**
- Problem: High stress concentration; poor fatigue performance
- Solution: Add cope holes or radius transitions; grind weld toes smooth

**Additional Recommendations:**
1. Specify welding sequence (start from center, work outward)
2. Use intermittent welds on brace if continuous weld causes distortion
3. Specify weld toe grinding for fatigue-critical joints
4. Consider welding in the flat position by rotating the assembly

</details>

---

### Practice Problems {#sec:weld-problems}

**Problem 1:** A T-joint connects a 12 mm thick plate to a 8 mm thick plate using fillet welds on both sides. What is the maximum recommended fillet weld leg size?

<details>
<summary>Click for solution</summary>

Maximum leg size is limited by the **thinner plate** (8 mm).

Maximum fillet leg size = **8 mm**

However, for practical edge clearance, **6-7 mm** would be commonly specified.

</details>

---

**Problem 2:** Calculate the theoretical throat of a fillet weld with 10 mm leg size. If the weld must carry a load of 50 kN and is 200 mm long, what is the shear stress in the throat?

<details>
<summary>Click for solution</summary>

**Throat calculation:**
$$t = 0.707 \times L = 0.707 \times 10 \text{ mm} = 7.07 \text{ mm}$$

**Throat area:**
$$A = t \times \text{length} = 7.07 \text{ mm} \times 200 \text{ mm} = 1414 \text{ mm}^2$$

**Shear stress:**
$$\tau = \frac{F}{A} = \frac{50,000 \text{ N}}{1414 \text{ mm}^2} = 35.4 \text{ MPa}$$

The shear stress in the weld throat is **35.4 MPa**.

</details>

---

**Problem 3:** A steel has composition: 0.25% C, 1.2% Mn, 0.5% Cr, 0.3% Mo. Calculate the carbon equivalent. Is preheating likely required?

<details>
<summary>Click for solution</summary>

$$CE = C + \frac{Mn}{6} + \frac{Cr + Mo + V}{5} + \frac{Ni + Cu}{15}$$

$$CE = 0.25 + \frac{1.2}{6} + \frac{0.5 + 0.3 + 0}{5} + \frac{0 + 0}{15}$$

$$CE = 0.25 + 0.20 + 0.16 + 0 = 0.61$$

With CE = **0.61**, this falls in the "Fair to Poor" weldability range.

**Preheating IS required** - typically 150-200¬∞C minimum. Low-hydrogen electrodes should be used, and post-weld heat treatment may be advisable.

</details>

---

### Further Reading {#sec:weld-resources}

[Lincoln Electric Welding Design Guide](https://www.lincolnelectric.com/en/support/welding-resources)

[AWS Welding Handbook](https://www.aws.org/publications)

[Weld Symbol Guide - Engineers Edge](https://www.engineersedge.com/welding_symbols.htm)

[Design of Welded Structures - Blodgett](https://www.lincolnelectric.com/en/support/welding-resources/design-of-welded-structures)

---

### üé¨ Supplemental Videos {-}

#### Understanding Welding Symbols

```{r video-welding-symbols, echo=FALSE, results='asis'}
embed_youtube("Svoi1v_o5yI", "Understanding Welding Symbols")
```

#### Weld Joint Types Explained

```{r video-weld-joint-types, echo=FALSE, results='asis'}
embed_youtube("CpSWUSSDquk", "Weld Joint Types")
```

#### Controlling Weld Distortion

```{r video-weld-distortion, echo=FALSE, results='asis'}
embed_youtube("w_iqJDfbzMM", "Controlling Weld Distortion")
```

---

### üìñ References {-}

1. Blodgett, O. W. (1966). *Design of Welded Structures*. James F. Lincoln Arc Welding Foundation.

2. American Welding Society. (2020). *AWS D1.1 Structural Welding Code - Steel*. AWS.

3. Messler, R. W. (2004). *Principles of Welding: Processes, Physics, Chemistry, and Metallurgy*. Wiley-VCH.

4. Kou, S. (2003). *Welding Metallurgy* (2nd ed.). Wiley-Interscience.

5. Hicks, J. (1999). *Welded Joint Design* (3rd ed.). Industrial Press.
